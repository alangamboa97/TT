\documentclass[12pt,letterpaper]{article}
\usepackage[spanish]{babel}
\usepackage{amsmath}
\usepackage[latin1]{inputenc}
\usepackage{graphicx}
\usepackage{amssymb}
\usepackage{anysize}
\usepackage{array}
\usepackage{lmodern}
\usepackage{adjustbox}
\usepackage{titlesec}
\usepackage{float}

\marginsize{2cm}{2cm}{1cm}{1cm}
\usepackage{fancyhdr}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\footnotesize UPIITA}
%\fancyfoot[R]{\footnotesize Diseño}
\fancyfoot[R]{\thepage}
\fancyfoot[L]{\footnotesize Proyecto Terminal 1}
\renewcommand{\footrulewidth}{0.4pt}
\usepackage{graphics}
\usepackage{capt-of}
\usepackage[pdftex=false,colorlinks=true,plainpages=true,citecolor=blue,linkcolor=blue]{hyperref}
\setlength\parindent{0pt}
\usepackage[usenames]{color}
\usepackage{pdfpages}
\usepackage{float}
\usepackage{shapepar}

\begin{document}
\renewcommand{\tablename}{Tabla}
\renewcommand{\listtablename}{Índice de tablas}

\begin{titlepage}

\newcommand{\HRule}{\rule{\linewidth}{0.3mm}}

\includegraphics[scale=0.45]{imagenes/ipn}
\hspace{10cm}
\includegraphics[scale=0.15]{imagenes/upiita}
\\


\begin{center}


\textsc{\Large ``Sistema para el monitoreo, detección y alerta de somnolencia del conductor mediante visión artificial, comunicación inalámbrica y geolocalización''}\\[0.5cm]



\HRule \\[0.4cm]
{ \huge \bfseries Proyecto Terminal 1}\\[0.4cm]

\HRule \\[1.5cm]



\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\emph{\\Autores:}\\
Alan Eduardo Gamboa Del Ángel\\
Maite Paulette Díaz Martínez\\
Nilsen Alfaro Parra\\

%Grupo:4MM6\\
\end{flushleft}
\end{minipage}
\begin{minipage}{0.5\textwidth}
\begin{flushright} \large
\emph{Asesores:} \\
M.en C. Niels Henrik Navarrete Manzanilla\\
Dr. Rodolfo Vera Amaro\\

\end{flushright}
\end{minipage}

\vfill

03 de Noviembre 2022

\end{center}


\end{titlepage}
\newpage
\tableofcontents
\newpage
\listoffigures
\newpage
\listoftables


\newpage
\section{Resumen}


El presente documento detalla el proceso de diseño del proyecto titulado "Sistema para el monitoreo, detección y alerta de somnolencia del conductor mediante visión artificial, comunicación inalámbrica y geolocalización" como Proyecto Terminal.





Uno de los factores importantes a considerar al momento de elegir un lenguaje de programación orientado a machine learning, es la popularidad el mismo, ya que esta es una señal de la aceptación por parte de la comunidad. A su vez, su el soporte es tanto o mas importante, ya que podemos darnos una idea si dicho lenguaje posee las herramientas adecuadas que se acoplan a nuestras necesidades. La velocidad de ejecución es otro factor importante, sobre todo cuando se requiere una minusiocidad en la ejecución de procesos y el cuidado de la memoria .Finalmente, la versatilidad del lenguaje es otro factor relevante, ya que, si el lenguaje fue diseñado con una determinada tarea o propósito en mente, este será mucho más eficiente y productivo.\\

A continuación, se listan algunos de los lenguajes de programación más populares en el campo de machine learning:\\

\begin{itemize}
\item \textbf{Python} \\
Python se ha convertido en el lenguaje de programación más popular del mundo, esto gracias a su sencillez aunado a una gran versatilidad. Sus utilidades abarcan desde desarrollo web, hasta la inteligencia artificial.
Python es uno de los lenguajes más naturales y  con sintaxis menos complicada. Por lo tanto, es fácil de aprender, leer y corregir errores. Lo mejor de todo es que Python es un lenguaje de código abierto. Lo que significa que es de libre acceso y distribución. Como resultado, tiene bibliotecas versátiles.

Una biblioteca es una colección de módulos o códigos creados para realizar operaciones específicas. Algunos módulos pueden ayudar con la interfaz gráfica de usuario, análisis de datos, gráficos, entre otras cosas. En lugar de escribir el mismo código cada vez que lo necesite, puede importarlo desde la biblioteca.


 Uno de los principales factores de esta popularidad, es el enorme ecosistema de herramientas desarrolladas específicamente para machine learning tales como: Pandas, Numpy, Tensorflow, Keras, entre otras.
A pesar de no ser el lenguaje más rápido o potente, lo anterior lo hace uno de los lenguajes indispensables si se piensa trabajar en el campo de machine learning.

\item \textbf{C++}\\

A menudo hemos escuchado que C++ se aborda más cuando se trata de desarrollar juegos y sistemas grandes. Esto se debe a su característica de portabilidad y también proporciona una comprensión básica de la construcción lógica. Sin embargo, Algunos de los paquetes compatibles con C++ incluyen: Microsoft Cognitive Toolkit (CNTK) para aprendizaje profundo; Tensorflow para aprendizaje profundo; OpenCV para visión artificial; MLPack para aprendizaje automático; DyNet para redes neuronales; OpenNN para redes neuronales; Shogun para aprendizaje automático y FANN para redes neuronales.\\
Sin embargo, C++ también tiene sus propias deficiencias. Está muy orientado a la sintaxis, a diferencia de Python, que es realmente amigable para los principiantes. Adempas de no contar con un gran soporte de bibliotecas.

\item \textbf{R}\\

Otro de los lenguajes de programación cuyo uso es considerablemente popular en el ámbito de machine learning y data análisis es R. R ofrece una variedad de beneficios desde su buen soporte de biblioteca y gráficos hasta la posibilidad crecer enormemente con muchos de los que podemos buscar ayuda, debido a su naturaleza abierta.
Algunos de los paquetes clave compatibles con R son: Kernlab para operaciones basadas en regresión y clasificación; Ggplot para visualización de datos; Caret para operaciones basadas en regresión y clasificación; Plotly para visualización de datos; MLr3 para diferentes flujos de trabajo de aprendizaje automático.
al igual que Python, también es comparativamente más lento que el resto de los lenguajes. Esto representa una gran desventaja para este lenguaje de programación. Además de esto, también tiene un origen débil, por lo que no es tan fácil de aprender. Para las personas que no tienen experiencia en programación les puede resultar difícil aprender R.

\item \textbf{Matlab}\\

Matlab también admite operaciones de aprendizaje automático y se puede aplicar de manera innovadora a aplicaciones que incluyen visión por computadora. MATLAB no está limitado por la sintaxis y, por lo tanto, es fácil de aprender y comprender. MATLAB también tiene muchas funciones predefinidas y una GUI para que los alumnos entiendan mejor las cosas. Además, viene con un compilador MATLAB que ayuda cuando se trata de codificar en el mismo.
Además, cuando se trata de capacidades de aprendizaje automático, MATLAB lo admite de una manera única. MATLAB permite a los usuarios aplicar AutoML, lo que les permite aprovechar al máximo los modelos codificados optimizados y reducidos. Además, MATLAB también puede realizar la generación automática de código para el análisis de sensores y mucho más.
MATLAB también viene con algunas restricciones. El lenguaje de programación no está fácilmente disponible o es de uso gratuito. De hecho, una versión de prueba está disponible solo por 30 días y publica que los usuarios deben comprar el paquete para un uso posterior. Por esta razón, uno puede encontrar solo investigadores como su público objetivo. No solo eso, el compilador de MATLAB es costoso de comprar y, por lo tanto, no tiene un soporte de comunidad / foro denso para ayudar a los usuarios y estudiantes.


\item \textbf{Javascript}

JavaScript puede no ser el lenguaje principal para desarrollo en Inteligencia Artificial, pero es gran complemento para utilizar herramientas relacionadas con Machine Learning, especialmente visualización de datos o procesos,
El hecho de que TensorFlow.js se ejecute dentro del navegador abre una gama de posibilidades interesantes tanto para empresas como para desarrolladores.
Como los navegadores son un espacio interactivo: ofrece acceso a varios sensores, incluidas cámaras web y micrófonos, que pueden proporcionar imágenes y sonidos como entrada a cualquier modelo de aprendizaje automático.
A pesar de todos los aspectos positivos, TensorFlow.js no tiene acceso predeterminado al sistema de archivos en el entorno del host del navegador. Esto limita los recursos de datos disponibles y puede imponer restricciones en el tamaño de los archivos y procesos.\\




\end{itemize}

A continuación se presenta una tabla comparativa de las características que se tomaron en cuenta para tomar una decisión sobre que lenguaje utilizar.

\begin{table}[h]
\centering
\begin{tabular}{|l|l|l|l|l|}
\hline
\textbf{Lenguaje} & \textbf{Popularidad} & \textbf{Versatilidad} & \textbf{Velocidad} & \textbf{Soporte} \\ \hline
Python            & Alta                 & Alta                  & Moderada           & Alta             \\ \hline
C++               & Baja                 & Alta                  & Alta               & Moderado         \\ \hline
R                 & Alta                 & Moderada                  & Moderado           & Bajo             \\ \hline
Matlab            & Baja                 & Moderada              & Moderada           & Bajo             \\ \hline
Javascript        & Moderada             & Moderada              & Baja               & Moderado         \\ \hline
\end{tabular}
\caption{\label{tab:lenguajes} Tabla Comparativa Lenguajes de Programación}
\end{table}

Python es un lenguaje que permite trabajar más de un paradigma (programación estructurada y orientada a objetos).
Normalmente cuando programamos un script sencillo aplicamos solo el paradigma de programación estructurada (Secuencia, selección e iteración), y cuando necesitamos programar un proyecto  más complejo y queremos incluir los beneficios del paradigma orientado a objetos (reutilización de los componentes, facilidad de mantenimiento y modificación de objetos) utilizamos clases (POO).\\
Debido a que en el presente proyecto se realizará la integración de sistemas enfocados a Machine Learning y a su vez a la programación orientada a objetos, Python representa la mejor opción para ser implementado, ya que este lenguaje nos permite desarrollar ambos ámbitos. Por lo que se tomó la decisión de ser utilizado a lo largo de este proyecto. 


\newpage
\section{Introducción}

Una propiedad fundamental que nos ofrece el lenguaje de programación Python, y que estaremos utilizando de manera frecuente a lo largo de este proyecto, es la modularidad. Que no es más que dividir nuestros programas en partes más pequeñas (sub-programas), que habitualmente son llamados módulos. Las cuales deben tener un grado de independencia de la aplicación o programa principal. Cuando hablamos de independencia, nos referimos a que pueden ser utilizados por otras aplicaciones y no dependen de la aplicación original en sí. 

\begin{center}
  \includegraphics[scale=.6]{imagenes/modularidad}
\captionof{figure}{Modularidad}
 \label{fig:modul}
\end{center}


Estós módulos son archivos que alojan código independiente con una determinada función.  Python cuenta con diversos módulos que podemos agregar a nuestro código y utilizarlo para facilitar y acortar el 
código, de manera que sea mas legible y ordenado.

Otro de los factores que consideramos al desarrollar este proyecto, es el de concurrencia de procesos. La concucrrencia aparece cuando dos o más procesos ocurren al mismo tiempo.
Estos procesos pueden "competir" o colaborar entre sí por los recursos del sistema. \\
Los temás de colaboración, sincronización, hilos y paralelismo se abordarán de una manera más profunda en el tercer reporte, cuando se tenga el diseño de los módulos faltantes.

\begin{center}
  \includegraphics[scale=.6]{imagenes/diagrama_casosusomc}
\captionof{figure}{Diagrama de Casos de Uso - Módulo Central de Procesamiento}
 \label{fig:casosusomc}
\end{center}

En el  siguiente diagrama, se pueden observar las distintas tareas así como las interacciones entre estas y el Submódulo de Procesamiento de Imágenes. \\
Cabe recalcar, que para el presente reporte no se han determinado el diseño del Módulo de Telemetría, ni el de la Estación Base, por lo que se puede esperar el rediseño de este diagrama en un posterior reporte.Por esta misma razón, se decicidó no incluir el diagrama de clases hasta que los Módulos faltantes estén diseñados.


\begin{center}

  \includegraphics[scale=.4]{imagenes/diagrama_activiadesmc}
\captionof{figure}{Diagrama de Actividades - Módulo Central de Procesamiento}
 \label{fig:casosusomc}

\end{center}

En el siguiente Diagrama de Actividades se describen las actividades y sus interacciones con el Submódulo de Procesamiento de Imágenes y la Estación Base. Para que el sistema principal pueda iniciar, se necesita que el conductor encienda el auto, ya que este sistema funcionará utilzando la alimentación electrica.
\\\\ 
El sistema principal comenzará por verificar el estado del Submódulo de Procesamiento de Imágenes, así como el de Telemetría y el estado de los periféricos. En caso de que cualquiera de estos presente alguna falla, se enviará un aviso a la Estación Base de que el sistema no podrá funcionar correctamente, y se etiquetará como "mantenimiento requerido". Si todos los sistemas funcionan correctamente, el Módulo de Procesamiento Central entrará en modo de espera por los datos proporcionados por el Submódulo de Procesamiento de Imáganes. En caso de que este último envíe una señal de alerta de Somnolencia, el Módulo Central activará la alarma en forma de buzzer. 
Posteriormente, se obtendrá la ubicación geográfica con la ayuda del Módulo de Telemetría.se realizará un reporte de Incidencia que contendrá la fecha, hora, ubicación, y un pequeño videoclip del momento en que se detectó la somnolencia. Este será enviado a la Estación Base que se encargará de almacenarlo en su respectiva base de datos. Para evitar que el almacenamiento Interno del Módulo Central de Procesamiento se llene, se eliminará el reporte de incidencia siempre y cuando la Estación Base confirme que ha recibido dicho reporte.
Como se indicó inicialmente el sistema estará disponible mientras el sistema se encuentre conectado a una fuente de alimentación, esto significa que el estado del sistema se encuentra conectado. \\\\

\begin{center}
  \includegraphics[scale=.5]{imagenes/diagrama_secuenciamc}
\captionof{figure}{Diagrama de Secuencia - Módulo Central de Procesamiento}
 \label{fig:secuenciamc}
\end{center}

Siguiendo los procesos de la Figura 4, se procede a dar un análisis superficial en la concurrencia de los mismos. También se detallan las peticiones y respuestas de los distintos submódulos y sistemas.

\newpage
\section{Planteamiento del problema}



\newpage
\section{Propuesta de solución}




\newpage
\section{Alacances y escenario de pruebas}


\newpage
\section{Justificación}

De acuerdo con datos de CONAPRA (2013), en México cada año mueren en promedio 
16,500 mexicanos por percances viales. Con base en estimaciones hechas por el 
Secretariado Técnico del Consejo Nacional para Prevención de Accidentes (STCONAPRA), 
los accidentes viales le cuestan al país alrededor de 150 mil millones de pesos que 
representan el 1.7 \% del Producto Interno Bruto (PIB), sumando costos directos e 
indirectos.\cite{conapra}\\
El estado de somnolencia es una de las principales causas de los accidentes de tránsito, 
lo cual tiene consecuencias, no solo para los conductores, sino que también para los 
pasajeros y personas que circulan en la vía pública. La somnolencia al momento de 
conducir se trata de un fenómeno complejo que implica disminuciones en los niveles de 
alerta y conciencia por parte del conductor. Esto se convierte en un detonador 
de accidentes pues disminuye en el sujeto la capacidad de identificar situaciones de 
riesgo y por tanto evitar el peligro.\cite{conapra}





\begin{center}
  \includegraphics[scale=.62]{imagenes/casosdeusospi}
\captionof{figure}{Diagrama de Casos de Uso - Submódulo de Procesamiento de Imágenes}
 \label{fig:csspi}
\end{center}


A continuación se muestra el diagrama de actividades para el Submódulo de Procesamiento de Imágenes:
\begin{center}
  \includegraphics[scale=.4]{imagenes/Diagramadeactividadspi}
\captionof{figure}{Diagrama de Actividades - Submódulo de Procesamiento de Imágenes}
 \label{fig:actspi}
\end{center}
El diagrama de actividades muestra el flujo de las actividades en general, para que el sistema pueda funcionar requiere que el automóvil le proporcione una fuente de alimentación hacia el ordenador, el cual iniciara el sistema para la detección de somnolencia. Una condición importante es que el conductor se encuentre dentro del rango visual de la cámara y permanezca dentro del mismo al mismo tiempo que el Submódulo de Procesamiento de Imágenes realiza la captura de video utilizando una cámara digital. Posteriormente se realizará la detección del rostro utilizando el método Haar-Adaboost. También se utilizarán librerías como Dlib en OpenCV para entrenar al sistema, y que este sea capaz de detectar el rostro con condiciones de poca luz.\\

Se hará uso de una Red Neuronal Convolucional para clasificar los ojos (abierto o cerrado) y así determinar el estado de somnolencia del conductor. Cabe mencionar, que el diseño de esta red se retomará en un reporte posterior, cuando se determine la resolución de óptima para detectar el rostro en tiempo real. \\

Mientras que para la boca se tomara la Relación de apertura de la boca (MOR).\\
En caso de que el sistema detecte somnolencia en el conductor se enviará una señal de alerta hacia el Módulo Central de Procesamiento el cual será el encargado de activar la alarma.\\ 

Como proceso paralelo a la detección de signos de somnolencia, la Identificación de una posible incidencia será la encargada de iniciar la grabación de video, con el fin de tener un fragmento de video segundos antes de detectar si el conductor presenta somnolencia.\\

En caso de que el conductor presente somnolencia, el video será detenido hasta detectar que el conductor mantiene los ojos abiertos por un intervalo de tiempo definido. Posteriormente el video de incidencia será guardado en la memoria y se notificará al Módulo Central de Procesamiento.\\

En caso de que el sistema indique que el conductor no presenta somnolencia el video será detenido y posteriormente eliminado de la memoria externa, con el fin de no saturar el espacio en la memoria.
 Como se indicó inicialmente el sistema estará disponible mientras el sistema se encuentre conectado a una fuente de alimentación, esto significa que el estado del sistema se encuentra conectado. 

\newpage
 \textbf{Puntos de Referencia}

\begin{center}
  \includegraphics[scale=.42]{imagenes/landmark}
\captionof{figure}{Puntos de referencia}
 \label{fig:landmark}
\end{center}



A su vez, se utilizarán puntos de referencia con la ayuda de el software OpenCV y el modelo iBUG 300-W de delimitación de rostro para dividir las características que posteriormente serán extraídas y clasificadas.

En la siguiente tabla se muestra la delimitación y agrupación de los puntos de interés, tales como: ojo derecho, ojo izquierdo y boca.
\begin{center}
\begin{table}[h]
\centering
\begin{tabular}{|l|c|}
\hline
Partes        & \multicolumn{1}{l|}{Puntos de Referencia} \\ \hline
Boca          & {[}48-67{]}                               \\ \hline
Ojo Derecho   & {[}36-41{]}                               \\ \hline
Ojo Izquierdo & {[}42-46{]}                               \\ \hline
\end{tabular}
\caption{\label{tab:landmakrs} Agrupación de Puntos de Referencia}
\end{table}


\newpage
\end{center}
\textbf{\emph{Mouth Opening Ratio}}

Bostezar es un signo cansancio. El bostezo se caracteriza por una apertura lenta y amplia de la boca. Por lo que se necesita medir el tamaño y la forma de la boca es necesario para identificar un bostezo. Para esto, se utilizara el \emph{Mouth Opening Ratio} que es un método que utiliza puntos de referencia para medir la apertura de la boca. Entre más grande sea este valor, más es la aperatura de la boca, por lo tanto se considera como un bostezo.



\begin{center}
  \includegraphics[scale=.5]{imagenes/MOR}
\captionof{figure}{\emph{Mouth Opening Ratio}}
 \label{fig:landmark}
\end{center}

La formula general para calular el \emph{MOR} es la siguiente:
\begin{equation}
MOR = \frac{\left \|p_{2}-p_{8}  \right \| +\left \|p_{3}-p_{7}  \right \|+\left \| p_{4}-p_{6} \right \|}{2\left \| p_{1}-p_{5}\right \|}
\end{equation}

Utilizando nuestros puntos de referencia, se podría calcular el MOR de la siguiente manera:

\begin{equation}
MOR = \frac{\left \|P49-P59  \right \| +\left \|P51-P57  \right \|+\left \| P53-P55 \right \|}{2\left \| P48-P54\right \|}
\end{equation}


\begin{center}
  \includegraphics[scale=.42]{imagenes/diagramadesecuenciaspi}
\captionof{figure}{Diagrama de Secuencia - Submódulo de Procesamiento de Imágenes}
 \label{fig:secspi}
\end{center}


\newpage

\section{Metodología}



Para transferir datos o información de un punto a otro sin la utilización de cableado o algún medio físico, tenemos las redes inalámbricas; y se dividen en 3 diferentes tipos dependiendo del alcance requerido:


\begin{itemize}

\item \textbf{La red de área personal inalámbrica (WPAN)}\\

Son redes de corto alcance que utilizan tecnología Bluetooth, HomeRF (\emph{Home Radio Frecuency}), Zigbee y las conexiones infrarrojas. Interconectan dispositivos compatibles como teléfonos móviles, electrodomésticos, impresoras o asistentes personales digitales (PDA) cerca de una ubicación central. 

Utilizada para periféricos de tamaño pequeño, son conocidas como redes de corto alcance, con cobertura de 10 a 100 metros. 

\item \textbf{La red de área local inalámbrica (WLAN)}\\

Es una red de intercambio de datos a través de ondas electromagnéticas que se propagan en el aire, en ella se crea una red de área local con un determinado número de dispositivos conectados a un enrutador o punto de acceso que proporcionará acceso a Internet. 

Son conocidas como redes de corto/mediano alcance alcanzando de 100 a 1000 metros.\\
Estándares usados en WLAN: 
\begin{itemize}

\item IEEE 802.11 \\
Es la forma más apropiada de referirnos a la tecnología Wi-Fi, especifica las normas de funcionamiento en una WLAN. \\

\item IEEE 802.11a/b/g  \\
Estándares identificadores de canales y frecuencias por donde se conectan los hosts a la WLAN. Con 802.11a se opera sobre las bandas de 5 GHz a 20 MHz y 2,4 GHz mientras que en la 802.11 b y g operan solamente en la banda de 2,4 GHz a una frecuencia de 25 MHz como ancho de banda.\\

\item IEEE 802.11n\\
Fue el primero en implementar la tecnología MIMO (\emph{Multiple Input - Multiple Output}) que permite usar varios canales a la vez para el envío y recepción de datos. \\

\item IEEE 802.11ac \\
Se denomina WiFi 5 y la gran mayoría de aparatos trabajan sobre esta versión. Es una versión que?solo opera en la banda de 5 GHz para proporcionar velocidades desde los 433 Mbps, dependiendo de la cantidad de antenas que utilice. \\
 
\item IEEE 802.11ax \\
Es la nueva versión conocida como WiFi 6 o WiFi de 6ª generación en ella se introduce la nueva tecnología OFDMA? que mejora la eficiencia espectral de la red para WLAN en donde haya gran cantidad de usuarios conectados.\\
Opera sobre las frecuencias de 2,4 GHz y 5 GHz. \\
\end{itemize}

\item \textbf{La red de inalámbrica de area amplia (WWAN)}\\

Usan ondas de radio pero transmite a uno o varios puntos de acceso inalámbrico donde un usuario inalámbrico puede conectarse a la red, al disponer de un ancho de banda más elevado ofrece una mejor cobertura. \\\\
Como ejemplo de estas redes tenemos la tecnología 4G y 5G. 
Son conocidas como redes de largo alcance con cobertura de hasta 100km, pueden dar soporte a gran parte del territorio geográfico. 

En esta red se incluye:
\begin{itemize}
\item \textbf{LPWAN(\emph{Low Power Wide Area Network}): Red de Área Amplia de Baja Frecuencia}\\
Son conocidas como redes de largo alcance con cobertura de hasta 100km.
\end{itemize}
Ventajas, Desventajas y Aplicaciones de las LPWAN:
\end{itemize}


\begin{table}[]
\begin{tabular}{|m{0.30\linewidth}|m{0.30\linewidth}|m{0.30\linewidth}|}
\hline
 Ventajas & Desventajas  &Aplicaciones   \\ \hline
 Baja Potencia. 
Minimiza el costo de energía lo que hace que los dispositivos remotos funcionen durante largos periodos de tiempo. & Baja velocidad de transmisión. 
No puede manejar grandes volúmenes de datos.  &  IoT. 
Satisfacer los desafíos de los dispositivos y sensores a pila. \\ \hline
 Amplia cobertura. 
Ofrecen largo alcance sin mucha interferencia. & Problemas de atenuación de las señales. 
Funcionan de forma más eficiente en espacios abiertos que en zonas urbanas.  &Aplicaciones de ciudades inteligentes. 
-Medidores de agua inteligentes 
-Iluminación inteligente   \\ \hline
 Bajo Ancho de Banda. 
Destinadas a aplicaciones con mensajes pequeños pocas veces por hora. & Confiabilidad en las transmisiones.  &  -\\ \hline
 Bajo Coste. 
Al tener un bajo ancho de banda reduce su costo también muchos usan el rango sin licencia en las bandas ISM. & Conectividad no constante. 
Dificulta actividades como el control de movimiento.  & - \\ \hline
\end{tabular}
\caption{\label{tab:LPWAN} Ventajas, Desventajas y Aplicaciones de las LPWAN}
\end{table}

\newpage
A continuación, se muestra de manera gráfica los tipos de redes antes mencionadas, así como algunos de sus protocolos y tecnologías.

\begin{center}
  \includegraphics[scale=1]{imagenes/redes}
\captionof{figure}{Tipos de Redes Inalámbricas}
 \label{fig:prot}
\end{center}

Dado que para el presente proyecto tiene contemplado funcionar dentro de la Ciudad de México y considerando que esta tiene una extensión de 1485 km2, el tipo de red mas viable a utilizar es la LPWAN.

\begin{center}
  \includegraphics[scale=0.2]{imagenes/cdmx}
\captionof{figure}{Mapa de la Ciudad de México}
 \label{fig:cd}
\end{center}

A continuación, se muestra un cuadro comparativo con estos tipos de redes.

\begin{table}[h]
\begin{tabular}{|l|l|l|l|l|l|l|}
\hline
        & Espectro                                                                 & \begin{tabular}[c]{@{}l@{}}Ancho de\\ Banda\end{tabular} & Costo    & BitRate & Escalabilidad & \begin{tabular}[c]{@{}l@{}}Inmunidad a \\ la Interferencia\end{tabular} \\ \hline
LTE-M   & \begin{tabular}[c]{@{}l@{}}Sin licencia\\ 869 MHz\\ 915 MHz\end{tabular} & 100kHz                                                   & Moderado & 1Mbps   & Alta          & Moderada                                                                \\ \hline
NB-IoT  & \begin{tabular}[c]{@{}l@{}}Sin licencia\\ 433 MHz\end{tabular}           & \textless{}500kHz                                        & Moderado & 200kbps & Alta          & Baja                                                                    \\ \hline
SigFox  & \begin{tabular}[c]{@{}l@{}}Con licencia\\ 700-900 MHz\end{tabular}       & 200kHz                                                   & Bajo     & 100bps & Baja          & Baja                                                                    \\ \hline
LoraWan & \begin{tabular}[c]{@{}l@{}}Con licencia\\ 700-900 MHz\end{tabular}       & 1.4MHz                                                   & Bajo     & 10kbps  & Moderada      & Muy Alta                                                                \\ \hline
\end{tabular}
\caption{\label{tab:redes} Comparación entre Redes Inalámbricas}
\end{table}

Ya que una parte fundamental del proyecto es la transferencia de contenido multimedia, se requiere un bitrate mínimo de 0.5 Mbps.\\
Tomando esto en consideración, podemos observar que tanto SigFox y LoraWan no cumplen con este requisito, por lo tanto quedan descartadas para ser utilizadas. \\
Por lo tanto, las tecnologías que cumplen estás características son LTE-M y NB-IoT, por lo que en la siguiente sección se procede a hacer un análsis y comparación de estas dos tipos de redes inalámbricas para corrobar cual de las dos es la más óptima para ser utilizada en este proyecto.

\newpage
\section{Objetivos}

\textbf{LTE-M}
LTE-M es el término simplificado de la industria para el estándar tecnológico de Área Amplia de Baja Potencia (LPWA por sus siglas en inglés). Se refiere específicamente a la tecnología LTE CatM1, que es el estándar más adecuado para su uso con el IoT.\\

Es una tecnología de área amplia de baja potencia que admite IoT a través de dispositivos poco complejos y proporciona una cobertura extendida, al tiempo que permite la reutilización de la base instalada de LT\\

Las redes LTE-M coexistirán con las redes móviles 2G, 3G y 4G y se beneficiarán de todas las características de seguridad y privacidad de las redes móviles, como la confidencialidad de la identidad del usuario, la autenticación de la entidad, la privacidad, la integridad de los datos y la identificación del equipo móvil.

A continuación se describen las ventajas principales de LTE-M

\begin{itemize}
\item \textbf{Ahorro de Energía}

LTE-M permite que los dispositivos IoT usen un modo de ahorro de energía, que les permite "ir a dormir" cuando no están en uso. Y tampoco tienen que despertarse para enviar solo la actualización de ubicación, sino que pueden extender los tiempos de suspensión por un período de tiempo más largo. LTE-M también permite que los dispositivos usen recepción discontinua extendida (eDRX). Cuando el dispositivo está fuera del modo suspendido, verifica periódicamente la información del enlace descendente. Con eDRX, se aumenta el tiempo de verificación de la radio, lo que reduce el consumo de energía.

\item \textbf{Cobertura}


Las redes LTE-M/Cat-M1/Cat-M2 pueden utilizar la infraestructura 4G LTE existente. Esta es una ventaja significativa, ya que más del 50 por ciento de las conexiones móviles globales se realizan en redes 4G. 

Con una pérdida de acoplamiento máxima (MCL) de 156 decibelios (dB), 14 dB más alta que LTE, las redes LTE-M también ofrecen mayor cobertura y mejor penetración en interiores. La señal puede manejar muchas interferencias de edificios y otras estructuras que obstruyen su camino.

\item \textbf{Velocidad de Transferencia}


Comparado con LTE, LTE-M no es particularmente rápido. Pero 1 megabit por segundo para transmisiones de enlace ascendente y descendente es excepcional en comparación con redes más antiguas como 2G y 3G (UMTS) y otras LPWAN. (Es varias veces más rápido que NB-IoT). Y eso es más que suficiente para la mayoría de las aplicaciones de IoT. Es factible para aplicaciones con necesidades de datos pequeñas e incluso casos de uso que involucran transmisión de video.


En el contexto de IoT, el alto rendimiento de datos significa que los dispositivos que usan LTE-M pueden recibir fácilmente actualizaciones por aire (OTA), y las transmisiones de datos consumirán menos energía, porque el dispositivo puede volver al modo de ahorro de energía más rápido.


\item \textbf{Costo}

Las redes 4G se construyeron principalmente para teléfonos inteligentes. Las redes LTE-M se construyeron principalmente para dispositivos IoT. Como tal, los componentes necesarios para los dispositivos LTE-M son menos complejos y más asequibles que los componentes que necesitaría para un dispositivo 4G tradicional, aunque ambos utilizan la infraestructura 4G LTE.




\end{itemize}

\textbf{NB-IoT}

Es un protocolo inalámbrico de Internet de las cosas (IoT) que utiliza tecnología de red de área amplia de baja potencia (LPWAN). Fue desarrollado por 3GPP para comunicación inalámbrica celular que permite una amplia gama de nuevos dispositivos y servicios NB-IoT. NB-IoT es uno de los tres principales estándares 3GPP LPWAN.\\

El estándar de comunicación NB-IoT tiene como objetivo permitir que los dispositivos IoT funcionen a través de redes de operador, ya sea dentro de una onda portadora de comunicación del Sistema Global para Móviles (GSM) existente, en una "banda de protección" no utilizada entre canales LTE o de forma independiente.\\

Uno de los objetivos de NB-IoT es impulsar la extensión de la cobertura más allá de lo que ofrecen las tecnologías celulares existentes. Para ello, NB-IoT ofrece repeticiones de transmisión y diferentes configuraciones de asignación de ancho de banda en la transmisión de enlace ascendente.\\

La tecnología NB-IoT utiliza señales de bajo ancho de banda para comunicarse dentro de las tecnologías GSM y LTE existentes.

Los dispositivos y sensores especialmente diseñados son los componentes básicos de los sistemas NB-IoT. Estos dispositivos recopilan información de su entorno y la transmiten a estaciones base NB-IoT o nodos de transmisión.

Las estaciones base individuales están conectadas a una puerta de enlace de IoT y servidores de aplicaciones en la nube de IoT para el monitoreo centralizado y el análisis de datos.

NB-IoT emplea una nueva capa física con señales y canales para cumplir con los requisitos de cobertura extendida en áreas rurales e interiores profundos, al tiempo que permite una complejidad de dispositivo muy baja. La tecnología subyacente es mucho menos compleja que la de los módulos GSM/GPRS.\\

A continuación se describen las ventajas más importantes de NB-IoT:
\begin{itemize}

\item \textbf{ Ahorro de Energía}

NB-IoT no necesita ejecutar un sistema operativo pesado, como Linux, ni hacer mucho procesamiento de señales, lo que lo hace más eficiente en términos de energía en comparación con otras tecnologías celulares.

\item \textbf{Cobertura}


NB-IoT puede ayudar a admitir una gran cantidad de dispositivos mediante el establecimiento de redes NB-IoT que pueden conectarse a miles de millones de nodos. Diseñado para cobertura extendida en interiores, la menor complejidad de los dispositivos proporciona conectividad y comunicación de largo alcance.

\item \textbf{Costo}

Debido a que es más fácil crear dispositivos con menor complejidad, el costo de los dispositivos es significativamente bajo, alrededor de 5 dolares por módulo.

\item \textbf{Seguridad}


NB-IoT está protegido de manera muy similar a 4G, incluidas todas las funciones de autenticación basadas en cifrado y SIM.


 
\end{itemize}

\newpage
\section{Marco Teórico}

\subsection{Red Neuronal}

Una red neuronal es un sistema que pretende emular ciertas características propias de los seres humanos, tales como la capacidad de memorizar o y asociar hechos o características. Este sistema está se basa en el concepto de \emph{neurona}.

\begin{center}
  \includegraphics[scale=0.5]{imagenes/neurona}
\captionof{figure}{Módelo estándar de una neurona artificial}
 \label{fig:neurona}
\end{center}

Un módelo simplificado de una neurona artificial consta de dos etapas.
En la primera etapa, las entradas provenientes de otras neuronas son combinadas tomando en cuenta los pesos de las sinapsis. Como resultado de esta etapa surge la entrada neta o \emph{excitación} de la neurona. En la segunda etapa, la entrada neta se utiliza para determinar el valor de salida de la neurona, que posteriormente será propagada a otras neuronas.

En la etapa de integración de las entradas, una neurona combina las distintas entradas $ x_i$ con sus pesos para así determinar su entrada neta $z_j$: 

\begin{equation}
zj = \sum_{i}w_{ij}x_i
\end{equation}

Dónde $w_{ij}$ representan los pesos sinápticos asociadas desde la \emph{i}-ésima neurona hasta la \emph{j}-ésima. Estos pesos tendrán valores real. Positivos para modelar conexiones excitatorias y negativos para conexiones inhibitorias.

Por otra parte, en la etapa de activación de una neurona, esta utiliza el valor asociado a su entrada neta para generar una salida $y_j$:

\begin{equation}
y_j(t)= F(y_j(t-1), z_j(t)) = F(y_j(t-1),net_j(t))
\end{equation}

\subsection{Redes Neuronales Convolucionales}

Las redes neuronales convolucionales, tambien conocidas como \emph{redes convolutivas}, son redes neuronales artificiales que se utilizan comunmente para resolver problemas que requieren el procesamiento de imágenes. Sus casos de uso más frecuentes van desde la detección de objetos, hasta generar una descripción textual del contenido de una imagen. Particularmente, sus entradas y salidas pueden ser estructuradas. Esto quiere decir, que en lugar de recibir un vector de entradas, se puede recibir un vector (1D), matriz (2D) o tensor($>2D$). En el caso de señales bidimensionales, las entradas pueden pertenecer a los pixeles de una imágen capturada por una cámara.

Como su nombre lo indica, esta red neuronal utiliza la operación de convolución. La convolución es una operación matemática que se realiza sobre dos funciones para producir una tercera que se suele interpretar versión modificada (filtrada) de las funciones originales.\cite{Referencia0}

\

La convolución entre las funciones \emph{f} y {g} se representa de la siguiente manera:
\begin{equation}
(f\star g)(t) = \int_{-\infty}^{\infty} f(\tau )g(t-\tau )d\tau = \int_{-\infty}^{\infty} f(t-\tau)g(\tau)d\tau
\end{equation}

Cuando se habla de procesamiento digital de señales, se utilizan señales discretas, por lo que la integral anterior se convierte en sumatoria:

\begin{equation}
(f\star g)[n] = \sum_{m=\infty}^{\infty}f[m]g[n-m] = \sum_{m=-\infty}^{\infty}f[n-m]g[m]
\end{equation}

Comunmente, uno de los operandos de la convolución se trata de una señal que se desea procesar $x[n]$, y el otro corresponde al filtro $h[n]$, con el que se procesa la señal. Si el filtro es finito y es definido sólo sobre el dominio $\left \{ 0,1,...,K-1 \right \}$ entonces para cada valor de la señal, se realizan K multiplicaciones y K-1 sumas:

\begin{equation}
(x\star h)[n] = \sum_{k=0}^{K-1}h[k]x[n-k]
\end{equation}

En un caso multidimensional, si se tienen señales discretas definidas sobre dos variables y se le aplica un filtro de tamaño $K_1 x K_2,$ la convolución se calcula utilizando la siguiente expresión:

\begin{equation}
(x\star h)[n_1,n_2] = \sum_{k_1=0}^{K_1-1}\sum_{k_2=0}^{K_2-1} h[k_1,k_2] x[n_1-k_1,n_2-k_2]
\end{equation}

En el caso particular de procesamiento digital de imágenes, las variables $[n_1,n_2]$ corresponden a cordenadas $[x,y]$ de los píxeles de una imagen. Además, el signo menos que aparece en la Ecuación 8, se suele sustituir por un signo más, por lo cual la definición de convolución se expresaría como:

\begin{equation}
(x\star h)[x,y] = \sum_{k_1=0}^{K_1-1}\sum_{k_2=0}^{K_2-1} h[k_1,k_2] x[x+k_1,y +k_2]
\end{equation}

Supongamos que se tiene un imágen en blanco y negro. Dicha imagen, de $7x7$ píxeles, se puede representar mediante una matriz binaria:\\
\begin{center}


$
I=\begin{bmatrix}
0&  0&  0&  0&  0&  0&0\\ 
 0&  0&  0&  0&  0&  0&0 \\ 
 0& 0 &  1&1 &1  &  0& 0\\ 
 0& 0 &  1&1  &1  &0  &0 \\ 
 0& 0&  1&1  & 1 & 0 &0 \\ 
 0& 0 &  0& 0 &0  & 0 &0 \\ 
 0&0  &  0&0  & 0 &  0&0 
\end{bmatrix}
$
\end{center}

\begin{verse}
\emph{Capas convolutivas}\\
El componente clave de las redes neuronales convolucionales son las capas, que sustituyen la tradicional multiplicación de pesos por entradas. La entrada de una capa convolutiva es una señal,en el caso de imágenes, una señal bidimensional. Dicha señal es procesada realizando una convolución con una máscara o \emph{kernel}. Los pesos correspondientes al \emph{kernel} serán los parámetros de la capa convolutiva que será entrenada.
A continuación se presenta la representación más simple de las capas de una red neuronal convolucional.

\begin{center}
  \includegraphics[scale=0.5]{imagenes/cnn} 
\captionof{figure}{Boosting}
 \label{fig:boost}
\end{center}

\begin{itemize}
	\item Capa Convolucional
	
Esta capa se utiliza para extraer las diversas características de las imágenes de entrada. En esta capa se realiza la convolución entre la imagen de entrada y un \emph{kernel} de un tamaño particular $MxM$.

La salida se denomina mapa de características, que nos brinda información sobre la imagen, como las esquinas y los bordes. Posteiormente, este mapa de características se alimenta a otras capas para aprender otras características de la imagen de entrada.

La capa de convolución en CNN entrega el resultado a la siguiente capa una vez que se aplica la  en la entrada.

\item Capa de \emph{Pooling}

El objetivo principal de esta capa es disminuir el tamaño del mapa de características convolucionado para reducir los costos computacionales. Esto se realiza disminuyendo las conexiones entre capas y opera de forma independiente en cada mapa de características. Según el método utilizado, existen varios tipos de operaciones de agrupación. Básicamente resume las características generadas por una capa de convolución.


\item \emph{Fully Connected Layer}

La capa totalmente conectada  consta de los pesos y sesgos junto con las neuronas y se utiliza para conectar las neuronas entre dos capas diferentes.l¿La imagen de entrada de las capas anteriores se aplana y se alimenta esta capa. Luego, el vector aplanado pasa por unas pocas capas  más donde normalmente tienen lugar las operaciones de las funciones matemáticas. En esta etapa comienza el proceso de clasificación.

\item \emph{Output Layer}
Esta capa se encarga de mejorar el rendimiento de un modelo de aprendizaje automático, ya que evita el sobreajuste al simplificar la red. Descarta neuronas no escenciales de la red neuronal durante el entrenamiento.

\end{itemize}

\end{verse}

\subsection{Visión Artificial}
Se puede definir como el conjunto de técnicas para la extracción de información de imágenes digitales. El tipo de información obtenida de una imagen puede ser de identificación, mediciones para navegación, o aplicaciones de realidad aumentada.El campo de visión artificial puede verse como una parte de la informática. La teoría de algoritmos y el aprendizaje automático son esenciales para el desarrollo de algoritmos de visión artificial.


\subsection{Boosting}

El término de boosting fue presentado por primera vez por Viola y Jones y fue utilizado en su técnica de detección de rostro. Esta implica entrenar una serie de clasificadores simples cada vez más discriminatorios y luego combinar su salida.\\
	
Boosting implica construir un \emph{clasificador h(x)} como una suma de valores de \emph{aprendices débiles}:



\begin{equation}
h(x) = sgn \left [  \sum_{j=0}^{m-1} \alpha_{j}h_j(\bold{x}) \right ]
\end{equation}


los aprendices débiles $h_j(\bold{x})$ son funciones extremadamente simples de la entrada.
En la mayoría de las variantes de boosting, los aprendices débiles son funciones umbrales,

\begin{equation}
h(x) = a_j[f_j<\theta_j] + b_j[f_j\geq \theta_j] =\left\{\begin{matrix}
a_j & si  & f_j<\theta_j\\ 
b_j &  &otro , 
\end{matrix}\right.
\end{equation}que también son conocidos como \emph{desicion stumps} consideradas como la forma más simple de un árbol de decisiones.

\begin{center}
  \includegraphics[scale=0.5]{imagenes/clasificadores}
\captionof{figure}{Boosting}
 \label{fig:boost}
\end{center}

Después de que cada clasificador débil es seleccionado, los \emph{data points} que han sido clasificados de manera incorrecta aumentan su peso. El clasificador final es una combinacion lineal de los clasificadores débiles.


\newpage
\section{Estado del Arte}
\subsection{Implementación de un sistema web con geolocalización para medir la transaccionalidad del portal ABC de la democracia para el consejo nacional electoral (CNE)}
En este proyecto de titulación de la Universidad de Guayaquil del año 2016, se 
implementa un sistema de geolocalización para poder tener una mejor visión a través 
de mapas virtuales de las personas y de las zonas geográficas de los productos o 
servicios que se quieran introducir, apoyado en un cien por ciento de las 
herramientas que Google Maps ofrece, se utilizó una aplicación popular y gratuita 
para poder analizar los datos obtenidos con la localización, Google Analytics. En este 
proyecto, sólo se pretendía visualizar mapas en la web, por lo que sólo fue necesario 
usar los servicios que ofrece Google Maps por ser una aplicación gratuita con la 
ayuda del api Javascript de Google Maps, se tuvieron en cuenta las limitaciones con 
respecto al código libre, pero estás no afectaron el desempeño del sistema; los datos 
obtenidos se recopilaban en una base de datos en MySQL.
\subsection{Diseño e implementación de un sistema de geolocalización en interiores para plataforma Android vía la red enterprise WLAN de la PUCP}
En este proyecto de titulación de la Pontifica Universidad Católica Del 
Perú del 2016 se desarrolló una aplicación móvil capaz de geolocalizar a un usuario 
dentro de las instalaciones de la universidad usando la técnica de Huellas de Señal 
(fingerprinting), que minimiza el error debido a reflexiones y obstáculos, basada en 
el estimador de máxima verosimilitud (ML por sus siglas en inglés Maximum 
Likehood) junto a las mediciones de señal de los Access Points cercanos usando la 
red Wi-Fi. La tecnología de radiofrecuencia que se usó fue la de redes inalámbricas 
de área local, Wi-Fi. Que ofrece conectividad por radiofrecuencia, con alcance local a 
un dispositivo que envíe datos Ethernet desde la ubicación del mismo hasta una 
conexión a la red fija, que en este caso la universidad contaba con 32 access points 
que recibirían la señal de datos a través de cobre o fibra. La técnica del fingerprinting, 
que está dirigida a geolocalización en interiores, consiste en un mapeo de datos que 
se encuentran en un escenario para luego asociarlos a una localización y 
almacenarlos en una base de datos, para estimar la localización más probable se 
utilizó el algoritmo de ML basado en el teorema de Bayes de probabilidad. En las 
conclusiones señalan que este sistema obtuvo una precisión del 100\% en la 
estimación del ambiente con un error menor de 2.4m en las pruebas realizadas.
\subsection{Geolocalización con LoRa mediante multilateración}
En esta tesis de la Universidad de la República de Uruguay del 2018 se desarrolló 
un prototipo para la geolocalización animal en estudios de comportamiento. Para la 
geolocalización se usó una tecnología nueva emergente llamada LoRa, tecnología de 
radiofrecuencia de bajo consumo energético y largo alcance; usando un método de 
multilateración para la geolocalización, técnica de navegación basada en la medición 
de la diferencia de distancia a dos estaciones en posiciones conocidas, el proyecto se 
conformó por tres puntos fijos o access points y nodos, que son los dispositivos 
llevados por los animales de radio frecuencia. Los nodos envían señales de radio 
frecuencia cada cierto tiempo, la señal emitida se recibe por los puntos fijos que, a 
su vez, esa señal genera metadatos que se almacenan en una base de datos para 
posteriormente realizar los cálculos en Geolocator , sistema de geolocalización 
desarrollado en Python, y así, obtener la posición geográfica del nodo. Se concluyó 
que el uso de LoRa para la geolocalización tiene gran potencial y que el alcance de 
las señales fue eficiente, de igual manera se trata de una tecnología de bajo consumo 
y que mantuvo los dispositivos con energía por meses.
\subsection{Propuesta de un sistema de geolocalización y monitoreo vía GPS/GSM/GPRS aplicado a un pulsómetro para personas con enfermedades cardiovasculares}
Tesis del Instituto Politécnico Nacional de la Escuela Superior de Ingeniería Mecánica 
y Eléctrica Unidad Zacatenco del año 2018, donde se empleó un sensor de pulso 
cardiaco el cual proporciona información en tiempo real de los latidos del corazón
mientras que un microcontrolador procesa los datos y, en caso de que se obtengan 
los datos de que se está presentando una taquicardia, el microcontrolador solicita la 
ubicación al módulo GPS y envía un mensaje de texto a través de GSM/GPRS a la 
persona designada.
\subsection{Influencia de un sistema de geolocalización en el control y monitoreo de vehículos con dispositivos GPS en una empresa logística}
Tesis del año 2015 de la Universidad César Vallejo de Perú donde se investiga de manera profunda las características y detalles de la tecnología GPS para determinar la influencia de un sistema de geolocalización en el control y monitoreo de vehículos con esta tecnología en una empresa logística. 
\subsection{Diseño de la red de acceso LTE en el distrito de Jesús María}
Tesis del año 2017 de la Pontifica Universidad Católica del Perú que tiene por objetivo analizar y diseñar una red usando la tecnología LTE, al desarrollar el proyecto se conocen las ventajas y desventajas de usar esta red así como la posibilidad de implementarla, también se realizan los cálculos de las coberturas y se dan a conocer las velocidades de enlace y el uso de diversos anchos de banda para su despliegue.

\newpage
\section{Análisis}



\newpage
\subsection{Análsis del Módulo Central de Procesamiento}
\newpage
\subsubsection{Análisis del Submódulo de Procesamiento de Imágenes}
\begin{itemize}


\item \textbf{Requerimientos Funcionales}

\begin{table}[h]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF01}}                                              & \emph{Capturar video en tiempo real}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}  El sistema capturará video en todo momento\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Conductor\\
\quad $\bullet$ Incidencias\\
\quad $\bullet$ Administrador\\
\quad $\bullet$ MongoDB
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
Con el uso de una cámara digital, se capturará video en tiempo real.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF01- Capturar Video en Tiempo Real}
\end{table}


\end{itemize}
\newpage
\subsubsection{Análsis del Submódulo de Deep Learning}

\newpage
\subsection{Análisis de la Estación Base}

\newpage
\subsubsection{Análisis de la Aplicación Web}


\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF01}}                                              & \emph{Iniciar Sesión}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{@{}l@{}}\textbf{Descripción:}  El sistema permitirá iniciar sesión en la aplicación web\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Amazon Cognito\\
\quad $\bullet$ Administrador\\
\quad $\bullet$ Credenciales\\
\quad $\bullet$ MongoDB
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El sistema, con la ayuda de los servicios de Amazon Cognito, comprobará que las credenciales ingresadas por parte del usuario administrador se encuentren en la base de datos. En caso contrario, la aplicación web indicará que ese usuario no se encuentra registrado en la base de datos.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF01- Iniciar Sesión}
\end{table}




\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF02}}                                              & \emph{Mostrar el Historial de Reportes de Incidencia}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}  El sistema desplegará en forma de lista todas las incidencias que se tengan registradas en la base de datos\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Conductor\\
\quad $\bullet$ Incidencias\\
\quad $\bullet$ Administrador\\
\quad $\bullet$ MongoDB
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El sistema recuperará de la base de datos todas las incidencias que se tengan registradas.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF02- Mostrar el Historial de Reportes de Incidencia}
\end{table}



\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF03}}                                              & \emph{Visualizar Reporte de Incidencia}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}  El sistema desplegará los detalles específicos de cada incidencia registrada.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Incidencia\\
\quad $\bullet$ Administrdor\\
\quad $\bullet$ Conductor
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El usuario administrador podrá visualizar los reportes individuales de incidencias de cada conductor al hacer click en cualquiera de las incidencias mostrada en la lista principal. Los reportes contendrán informacón sobre la fecha, hora, ubicación y un video corto del momento en que fueron detectados síntomas de somnolencia.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF02- Mostrar el Historial de Reportes de Incidencia}
\end{table}


\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF03}}                                              & \emph{Visualizar Reporte de Incidencia}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}  El sistema desplegará los detalles específicos de cada incidencia registrada.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Incidencia\\
\quad $\bullet$ Administrdor\\
\quad $\bullet$ Conductor
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El usuario administrador podrá visualizar los reportes individuales de incidencias de cada conductor al hacer click en cualquiera de las incidencias mostrada en la lista principal. Los reportes contendrán información sobre la fecha, hora, ubicación y un video corto del momento en que fueron detectados síntomas de somnolencia.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF03- Visualizar Reporte de Incidencia}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF04}}                                              & \emph{Confirmar Incidencia}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}  El sistema permitirá al administrador confirmar la incidencia, esto para descartar que se trate de un falso positivo.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Administrador\\
\quad $\bullet$ Incidencia\\
\quad $\bullet$ Conductor\\
\quad $\bullet$ MongoDB
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El usuario administrador podrá confirmar la incidencia después de haber revisado el videoclip del momento de somnolencia con la intención de descartar falsos positivos. Esto será posible ingresando a una incidencia específica mostrando sus detalles.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF04- Confirmar Incidencia}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF05}}                                              & \emph{Recuperar Contraseña}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema contará con una opción para recuperar la contraseña del administrador en caso de que sea olvidada la contraseña.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Amazon Cognito\\
\quad $\bullet$ Email\\
\quad $\bullet$ Administrador\\
\quad $\bullet$ MongoDB
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El sistema requerirá que el usuario administrador ingrese el correo con el que fue registrado. Posteriormente se le enviará un código de recuperación de contraseña a ese correo. El administrador ingresará se código en el apartado de recuperar contraseña y así podrá ingresar una nueva contraseña.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF05 - Recuperar Contraseña}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF06}}                                              & \emph{Mostrar Perfil Conductor}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema permitirá al usuario administrador visualizar los datos de cada conductor registrado en la base de datos.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Perfil\\
\quad $\bullet$ Conductor\\

\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El administrador podrá consultar cada uno de los perfiles de los conductores registrados en la base de datos dando click en el nombre del mismo. En dicho perfil se mostrarán datos como nombre, apellido, así como el número de incidencias de dicho conductor, con sus respectivos detalles.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF06- Mostrar perfil del Conductor}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF07}}                                              & \emph{Mostrar Ubicación Geográfica}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}La aplicación web, con ayuda de los datos proporcionados por el módulo de telemetría, mostrará la ubicación en tiempo real de un conductor.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Ubicación en Tiempo Real\\
\quad $\bullet$ Módulo de Telemetría\\

\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El sistema permitirá al administrador consultar la ubicación de los conductores en tiempo real. Para esto el administrador deberá de ingresar previamente al perfil del conductor del cual desea consultar dicha ubicación.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF07- Mostrar ubicación Geográfica}
\end{table}



\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF08}}                                              & \emph{Descartar Incidencia}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema permitirá catalogar una incidencia como Falsa si fuera el caso.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Incidencia\\
\quad $\bullet$ Administrador\\

\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
En caso de presentarse una incidencia falsa, después de haber sido revisada por el administrador, esta podrá ser catalogada como falsa incidencia y será eliminada automáticamente de la base de datos.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF08- Descartar Incidencia}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF09}}                                              & \emph{Registrar Usuario}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema le permitirá al administrador registrar nuevos conductores.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Incidencia\\
\quad $\bullet$ Administrador\\

\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
En caso de presentarse una incidencia falsa, después de haber sido revisada por el administrador, esta podrá ser catalogada como falsa incidencia y será eliminada automáticamente de la base de datos.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF09- Registrar Usuario}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF10}}                                              & \emph{Modificar Usuario}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema le permitirá al administrador modificar los datos del conductor.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Nombre\\
\quad $\bullet$ Apellido\\
\quad $\bullet$ Conductor\\
\quad $\bullet$ Administrador

\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El administrador podrá editar los datos de los conductores como nombre o apellido.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF10- Mostrar el Historial de Reportes de Incidencia}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF11}}                                              & \emph{Elimininar Usuario}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema le permitirá al administrador eliminar los datos del conductor.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Conductor\\
\quad $\bullet$ Administrador


\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El sistema le permitirá al eliminar los datos de conductores de la base de datos.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF11- Mostrar el Historial de Reportes de Incidencia}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF12}}                                              & \emph{Generar Mensaje de Alerta}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema alertará con un mensaje en caso de que algún componente en alguna Unidad Contenedora no funcione correctamente.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Módulo Central de Procesamiento\\
\quad $\bullet$ Administrador\\
\quad $\bullet$ Alerta


\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El sistema enviará un mensaje de alerta al administrador indicando que Unidad presenta algún desperfecto, esto con la intención de sea reparada posteriormente.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF12- Generar Mensaje de Alerta}
\end{table}


\newpage



\begin{itemize}


\item \textbf{Análisis de Requerimientos Funcionales}


	        
\item \textbf{Análisis de Requerimientos no Funcionales}



\end{itemize}


 




\newpage
\section{Diseño}
\subsection{Diseño del Módulo Central de Procesamiento}



\newpage
\subsubsection{Diseño de la Unidad Contenedora de Procesamiento}

Para el diseño de la unidad contenedora del módulo de procesamiento, se tomaron en cuenta los elementos físicos que estarán dentro de la unidad y sus respectivas medias. Cabe mencionar que los elementos que respectan al modelo del ordenador, el modelo de la cámara, el modelo del zumbador y el modelo de la microSD fueron previamente seleccionados en base a los requerimientos del sistema. 
\\
Elementos físicos que contendrá la unidad:

\begin{itemize}

\item Raspberry Pi 4 Modelo B\\
De acuerdo con las especificaciones físicas de la Raspberry Pi 4 Modelo B se tiene las siguientes medidas en milímetros:\\
Dimensiones 85 x 53mm. 
\begin{center}
  \includegraphics[scale=.4]{imagenes/Espeificaciones fisicas Raspberry Pi}
\captionof{figure}{Especificaciones Físicas}
 \label{fig:scaraindust}
\end{center}

\item Zumbador Pasivo KY-006\\
Dimensiones 18 x 15mm. 
\begin{center}
  \includegraphics[scale=.2]{imagenes/KY-006}
\captionof{figure}{Zumbador Pasivo KY-006}
 \label{fig:scaraindust}
\end{center}

\item Cámara Arducam Pivariety IMX230\\
Dimensiones de la placa: 38 x 38mm.

\begin{center}
  \includegraphics[scale=.4]{imagenes/camara}
\captionof{figure}{Cámara Pivariety IMX230}
 \label{fig:scaraindust}
\end{center}
 

\item Cable macho-hembra\\

\begin{center}
  \includegraphics[scale=.4]{imagenes/Jumpers}
\captionof{figure}{Jumpers}
 \label{fig:scaraindust}
\end{center}

Se utilizarán 2 cables macho-hembra para la conexión del zumbador pasivo hacia los pines GND y Vcc del Raspberry Pi 4. 
Largo 10 cm. 

\item Micro SD\\  
Dimensiones: 15 x 11 x 1 mm. 

\begin{center}
  \includegraphics[scale=.5]{imagenes/MicroSD}
\captionof{figure}{Micro SD}
 \label{fig:scaraindust}
\end{center}
\newpage
\item \textbf{RasperryPi 3G/4G/ LTE Base HAT}

\begin{center}
  \includegraphics[scale=.4]{imagenes/sixfabhat}
\captionof{figure}{RasperryPi 3G/4G/ LTE Base HAT}
 \label{fig:scaraindust}
\end{center}

Este HAT celular proporciona una conexión de datos simplificada para proyectos de IoT remotos, en el campo, en todo el mundo, en todas partes. Comience a usar una conexión LTE de alta velocidad con bajo consumo de energía, además de contar con todo el software necesario para desarrollar en una  Raspberry Pi.

\item \textbf{LE 910Cx Mini PCIe Series Linux}

\begin{center}
  \includegraphics[scale=.7]{imagenes/LE910}
\captionof{figure}{LE 910Cx Mini PCIe Series Linux}
 \label{fig:scaraindust}
\end{center}


Los módulos Mini PCIe (mPCIe) de la serie LE910Cx son
optimizadas para redes LTE de baja categoría y están disponibles
en modo único de LTE o con opciones de respaldo 3G/2G.

\newpage
\item \textbf{LTE Main Diversity GNSS Triple Port u.FL Antenna de 100mm}

\begin{center}
  \includegraphics[scale=.4]{imagenes/lteantena}
\captionof{figure}{LTE Main Diversity GNSS Triple Port u.FL Antenna de 100mm}
 \label{fig:scaraindust}
\end{center}


Antenas LTE principal y Diversity combinadas con una antena GNSS en una sola antena formada. Ajuste directo para el módulo Mini PCIe LTE de Quectel EC25, Telit LE910C1 y Telit LE910C4.

\end{itemize}

\newpage

Tomando en cuenta las medidas anteriormente mencionadas, se presenta un bosquejo del diseño modular para la unidad contenedora, cabe aclarar que la siguiente propuesta puede presentar modificaciones durante el desarrollo del proyecto, con el fin de cumplir con las necesidades del sistema y presentar un diseño acorde a los cambios. 

\begin{center}
  \includegraphics[scale=.3]{imagenes/unidadcontenedora}
\captionof{figure}{Unidad Contenedora del Módulo Central de Procesamiento}
 \label{fig:scaraindust}
\end{center}
 



\newpage
\subsubsection{Diseño del Submódulo de Procesamiento de Imágenes}

\begin{itemize}


\item \textbf{Puntos de Referencia}

\begin{center}
  \includegraphics[scale=.42]{imagenes/landmark}
\captionof{figure}{Puntos de referencia}
 \label{fig:landmark}
\end{center}



A su vez, se utilizarán puntos de referencia con la ayuda de el software OpenCV y el modelo iBUG 300-W de delimitación de rostro para dividir las características que posteriormente serán extraídas y posteriormente clasificadas.

En la siguiente tabla se muestra la delimitación y agrupación de los puntos de interés, tales como: ojo derecho, ojo izquierdo y boca.
\begin{center}
\begin{table}[h]
\centering
\begin{tabular}{|l|c|}
\hline
Partes        & \multicolumn{1}{l|}{Puntos de Referencia} \\ \hline
Boca          & {[}48-67{]}                               \\ \hline
Ojo Derecho   & {[}36-41{]}                               \\ \hline
Ojo Izquierdo & {[}42-46{]}                               \\ \hline
\end{tabular}
\caption{\label{tab:landmakrs} Agrupación de Puntos de Referencia}
\end{table}
\end{center}


\item \textbf{Mouth Opening Ratio}


Bostezar es un signo cansancio. El bostezo se caracteriza por una apertura lenta y amplia de la boca. Por lo que se necesita medir el tamño y la forma de la boca es necesario para identificar un bostezo. Para esto, se utilizara el \emph{Mouth Opening Ratio} que es un método que utiliza puntos de referencia para medir la apertura de la boca. Entre más grande sea este valor, más es la aperatura de la boca, por lo tanto cumple con las características de un bostezo.

\begin{center}
  \includegraphics[scale=.5]{imagenes/MOR}
\captionof{figure}{\emph{Mouth Opening Ratio}}
 \label{fig:landmark}
\end{center}

La formula general para calular el \emph{MOR} es la siguiente:
\begin{equation}
MOR = \frac{\left \|p_{2}-p_{8}  \right \| +\left \|p_{3}-p_{7}  \right \|+\left \| p_{4}-p_{6} \right \|}{2\left \| p_{1}-p_{5}\right \|}
\end{equation}

Utilizando nuestros puntos de referencia, se podrá calcular el MOR de la siguiente manera:

\begin{equation}
MOR = \frac{\left \|P49-P59  \right \| +\left \|P51-P57  \right \|+\left \| P53-P55 \right \|}{2\left \| P48-P54\right \|}
\end{equation}


\end{itemize}


\newpage
\subsubsection{Diseño del Submódulo de Deep Learning}

\newpage
\subsection{Diseño del Módulo de Comunicaciones}

\newpage
\subsubsection{Diseño del Submódulo de Transmisión de Datos}

\newpage
\subsubsection{Diseño del Submódulo de Telemetría}

\newpage
\subsubsection{Diseño del Submódulo de Cobertura}

\newpage
\subsection{Diseño de la Estación Base}

\newpage
\subsubsection{Diseño de la Aplicación Web}

\newpage
\subsubsection{Diseño de la Base de Datos}



La geolocalización implica el posicionamiento que define la localización de un objeto en un sistema de coordenadas determinado.

Los datos para la geolocalización se pueden obtener mediante la dirección IP de un usuario, su dirección MAC, el uso del RFID, la ubicación de la conexión WIFI o las coordenadas de GPS de su dispositivo.\\
Entre las diferentes tecnologías para la geolocalización, para este proyecto se destacan:
\begin{table}[h]
\begin{adjustbox}{width=\columnwidth,center}
\begin{tabular}{|l|l|l|l|}
\hline
Tecnología                                 & Descripción                                                                                                                                                                                                                                                                                            & Exactitud                                                                                                                                & \begin{tabular}[c]{@{}l@{}}Utilización\\ Principal\end{tabular}          \\ \hline
\textit{GPS(Global Positioning System)}    & \begin{tabular}[c]{@{}l@{}}Sistema de posicionamiento global formado por \\ una red de más de 30 satélites \\ que orbitan alrededor de la tierra. \\ Cada navegador GPS está conectado a \\ diferentes satélites\\  para tener los datos reales de\\  la geolocalización en todo momento.\end{tabular} & \begin{tabular}[c]{@{}l@{}}Es un sistema de\\ geolocalización muy preciso, \\ obteniendo la \\ ubicación de manera\\ exacta\end{tabular} & \begin{tabular}[c]{@{}l@{}}Telefono móvil \\ o en vehículos\end{tabular} \\ \hline
\textit{GSM(Global System for Mobile)}     & \begin{tabular}[c]{@{}l@{}}Sistema de posicionamiento \\ formado por las torres y \\ antenas de telefonía\end{tabular}                                                                                                                                                                                 & \begin{tabular}[c]{@{}l@{}}Es un sistema de geolocalización\\ impreciso. Tiene un \\ margen de error\\ de hasta 200 metros\end{tabular}  & \begin{tabular}[c]{@{}l@{}}Comunicación\\ móvil\end{tabular}             \\ \hline
\textit{GPRS(General Packet Radio System)} & \begin{tabular}[c]{@{}l@{}}Sistema de posicionamiento de \\ segunda generación GSM, \\ proporciona servicios de alta velocidad\end{tabular}                                                                                                                                                            & \begin{tabular}[c]{@{}l@{}}Es un sistema de geolocalización\\ preciso pero limitado en área de\\ cobertura\end{tabular}                  & \begin{tabular}[c]{@{}l@{}}Solo disponible\\ en tierra\end{tabular}      \\ \hline
\textit{Wi-Fi}                             & \begin{tabular}[c]{@{}l@{}}Sistema de posicionamiento   \\ en el que todas las redes \\ WIFI encendidas emiten una \\ señal identificativa,   \\ comúnmente llamada dirección MAC. \\ Este sistema usa 3 o más puntos de\\  referencia para calcular la ubicación.\end{tabular}                        & \begin{tabular}[c]{@{}l@{}}Es un sistema de geolocalización\\ impreciso, \\ presenta grandes margenes\\ de error\end{tabular}            & Interiores                                                               \\ \hline
\end{tabular}
\end{adjustbox}
\caption{\label{tab:interfaces}Tecnologías de Geolocalización}
\end{table}

En un siguiente reporte, se analizarán con mas detalle las tecnologías que sean compatibles con la interfaz de LTE-M que utilizaremos a lo largo del proyecto.
\newpage
\section{Conclusiones}
En un principio, se tenía contemplado utilizar la red LoRaWan para la comunicación y transferencia de archivos. Sin embargo, después de las actividades investigación, nos dimos cuenta de que esta opción no era viable, ya que el \emph{bitrate} soportado por LoRaWan es insuficiente para la transferencia de archivos multimedia, que es una parte fundamental de nuestro sistema. Por tanto, se optó por utilizar la interfaz de LTE-M, una opción más costosa, pero que cumple los requisitos de una alta tasa de transferencia, así como una buena integración con la Rasperry Pi 4.\\

En el caso del Submódulo de Procesamiento de imágenes, se tenía contemplado desarrollarlo de manera separada del submódulo de \emph{machine learning } pero después de haber realizado un análisis más profundo, se decidió integrarlo dentro de este mismo. Esto para el ahorro de recursos de procesamiento y conseguir una mejor comunicación entre procesos. En un siguiente reporte, se terminará por diseñar la Red Neuronal Convolucional, así como el diseño del Módulo de Telemetría y de la Estación Base.\\

Pará el diseño de la unidad de almacenamiento se obtuvo un bosquejo prototipo, sin embargo, se tiene contemplado rediseñar el modelo con el fin de mejorar y adaptarla los cambios del sistema a futuro.


\newpage
\section{Referencias}
%\bibliographystyle{apacite}

\begin{thebibliography}{10} %10 significa el número máximo de items
%Aquí ponga la bibliografía y referencias usadas

%Artículo:


\bibitem{conapra} M. Paez y Emilio Abarca. \emph{Resumen Boletines}, Instituto Mexicano del Transporte.
https://imt.mx/resumen-boletines.html?IdArticulo=449\&amp;IdBoletin=168 (accedido 
el 18 de marzo de 2022).


\bibitem{Referencia0} Fernando Berzal, \emph{ Redes Neuronales y Deep Learning}, Granada, 2018

\bibitem{Referencia1} Irv Kalb, \emph{Object-Oriented Python}, Primera Edición ,No Starch-Press, 2021
%Libro
\bibitem{Referencia2}
V.Moret Bonillo, \emph{Fundamentos de Inteligencia Artificial}, Segunda Edición,Santiago de Compostela: Universidad de La Coruña Servicio de Publicaciones, 2005.

\bibitem{Referencia3} Ian Sommerville, \emph{Ingeniería de Software}, Novena Edición , Pearson Eduación de México, 2011

\bibitem{Referencia4} Kenneth E. Kendall, Julie E. Kendall, \emph{Análisis y Diseño de Sistemas}, Octava Edición , Pearson Educación de México, 2011

\bibitem{Referencia5} Aurélien Géron, \emph{Hands-On Machine Learning with Scikit-Learn, Keras, and Tensorflow}, Segunda Edición , O'Reilly, 2009


\bibitem{Referencia7} Kurt Demaagd, Anthony Oliver, Nathan Oostendorp y Katherine Scott \emph{Practical Computer Vision with OpenCV}, Tercera Edición, O'Reilly, 2017

\bibitem{Referncia8}Cuno Plister, \emph{Getting Started with Internet of Things},Primera Edición, O'Reilly, 2011

\bibitem{Referencia9} Vilca Espinoza, R.A, \emph{Influencia de un sistema de geolocalización en el control y monitoreo de vehículos con dispositivos GPS en una empresa logística}, 2007

\bibitem{Referencia10} S. Pachouly, N. Bhondve, A. Dalvi, V. Dhande y N. Bhamare. "Driver drowsiness detection using machine learning with visual behaviour". https://ijcrt.org/papers/IJCRT2006408.pdf (accedido el 2 de noviembre de 2022).


\end{thebibliography}

\end{document}


