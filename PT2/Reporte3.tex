\documentclass[12pt,letterpaper]{article}
\usepackage[spanish]{babel}
\usepackage{amsmath}
\usepackage[latin1]{inputenc}
\usepackage{graphicx}
\usepackage{amssymb}
\usepackage{anysize}
\usepackage{array}
\usepackage{multicol}
\usepackage{lmodern}
\usepackage{adjustbox}
\usepackage{enumitem}
\usepackage{float}
\marginsize{2cm}{2cm}{1cm}{1cm}
\usepackage{fancyhdr}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\footnotesize UPIITA}
%\fancyfoot[R]{\footnotesize Dise�o}
\fancyfoot[R]{\thepage}
\fancyfoot[L]{\footnotesize Proyecto Terminal 2}
\renewcommand{\footrulewidth}{0.4pt}
\usepackage{graphics}
\usepackage{capt-of}
\usepackage[pdftex=false,colorlinks=true,plainpages=true,citecolor=blue,linkcolor=blue]{hyperref}
\setlength\parindent{0pt}
\usepackage[usenames]{color}
\usepackage{pdfpages}
\usepackage{float}
\usepackage{shapepar}

\begin{document}
\renewcommand{\tablename}{Tabla}
\renewcommand{\listtablename}{�ndice de tablas}

\begin{titlepage}

\newcommand{\HRule}{\rule{\linewidth}{0.3mm}}

\includegraphics[scale=0.45]{imagenes/ipn}
\hspace{10cm}
\includegraphics[scale=0.15]{imagenes/upiita}
\\


\begin{center}


\textsc{\Large ``Sistema para el monitoreo, detecci�n y alerta de somnolencia del conductor mediante visi�n artificial, comunicaci�n inal�mbrica y geolocalizaci�n''}\\[0.5cm]



\HRule \\[0.4cm]
{ \huge \bfseries Primer Reporte Parcial}\\[0.4cm]

\HRule \\[1.5cm]

\begin{center}

Lista de actividades
 

\begin{itemize}
\item Definir rutas del frontend
\item Dise�o de rutas del backend  
\item Conexi�n Backend con Mongo DB
\item Sistema de acceso con credenciales
\item Creaci�n de la base de datos no relacional
\item	Investigaci�n de modelos de Redes Neuronales Convolucionales
\item Dise�o de una red neuronal convolucional capaz de detectar ojos cerrados y abiertos

\end{itemize}

\end{center}


\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\emph{\\Autores:}\\
Alan Eduardo Gamboa Del �ngel\\
Maite Paulette D�az Mart�nez\\

%Grupo:4MM6\\
\end{flushleft}
\end{minipage}
\begin{minipage}{0.5\textwidth}
\begin{flushright} \large
\emph{Asesores:} \\
M.en C. Niels Henrik Navarrete Manzanilla\\
Dr. Rodolfo Vera Amaro\\

\end{flushright}
\end{minipage}

\vfill

13 de Marzo 2023

\end{center}


\end{titlepage}
\newpage
\tableofcontents
\newpage
\listoffigures
\newpage
\listoftables

\newpage
\section{Definir rutas del frontend}

\subsection{Objetivo}
Definir e implementar las rutas que tendr� la aplicaci�n, as� como si ser�n p�blicas o privadas y la informaci�n que se desplegar� en cada una de las mismas.




\subsection{Descripción}

\textbf{Rutas p�blicas vs rutas protegidas}

Cuando se habla de una ruta protegida en React, se referiere a programar un bloqueo en ciertas rutas a la cual se le restringe el acceso al usuario. Esto comunmente se realiza para la validaci�n de inicio de sesi�n de usuarios. S� el usuario no tiene una sesi�n iniciada, no podr� acceder a las rutas protegidas de la aplicaci�n. Por otro lado, las rutas p�blicas son todas aquellas las cuales no requieren contar con una sesi�n iniciada, y pueden ser accesadas por cualquier tipo de usuario\cite{dom}.


Como primer paso, se necesita crear un proyecto de React utilizando el siguiente comando:


\begin{center}
  \includegraphics[scale=0.5]{imagenes/create}
\captionof{figure}{Creaci�n proyecto de react}
 \label{fig:MongoA} 
\end{center} 


Posteriomente, se realiza la instalaci�n del moudelo \emph{React Router Dom} utilizando el siguiente comando:

\begin{center}
  \includegraphics[scale=0.5]{imagenes/router}
\captionof{figure}{Instalaci�n React Router DOM}
 \label{fig:MongoA} 
\end{center} 

Utilizando la librer�a \emph{useAuthenticator} ofrecida por el paquete de React Dom, crearemos un archivo de nombre \emph{RequireAuth.js} el cu�l contendr� una funci�n la cual se encargar� de validar si existe una sesi�n iniciada previamente.

\begin{center}
  \includegraphics[scale=0.5]{imagenes/auth}
\captionof{figure}{Funci�n RequireAuth}
 \label{fig:auth} 
\end{center} 

Posteriormente, se necesita contar con una p�gina de Login, la cu�l permitir� validar que se encuentre una sesi�n inciada por parte del usuario, para as� poder acceder a las rutas protegidas.

\begin{center}
  \includegraphics[scale=0.6]{imagenes/loginjs}
\captionof{figure}{Componente Login}
 \label{fig:loginjs} 
\end{center} 


Para indicar a React, que se desea implementar una ruta protegida, se necesita ir al componente de dicha ruta e ingresar el siguiente c�digo:


\begin{center}
  \includegraphics[scale=0.5]{imagenes/homejs}
\captionof{figure}{Ruta protegida del componente Home}
 \label{fig:homejs} 
\end{center} 

En dicho componente, se hace uso de las librer�as \emph{useAuthenticator} y \emph{Authenticator} las cuales son ofrecidas por los servicios de Amazon Amplify. Se tendr� que hacer esto para todos los componentes que deseemos mantener como rutas protegidas.


Finalmente, dentro de nuestro componente \textbf{App.js}, crearemos una funci�n que contendr� el directorio de rutas tanto p�blicas como protegidas:

\begin{center}
  \includegraphics[scale=0.5]{imagenes/routesjs}
\captionof{figure}{Directorio de rutas}
 \label{fig:routesjs} 
\end{center} 

Las rutas protedigas, estar�n dentro de las etiquetas \textbf{<RequireAuth></RequireAuth>}, mientras que las p�blicas, ir�n dentro de las etiquetas \textbf{<Route></Route>}.


\subsection{Resultados}

Como resultado de todo lo anterior, tendr�mos una p�gina de Login que utilizando los servicios de AWS Amplify y Cognito, permitir� iniciar sesi�n as� como registrar a nuevos usuarios.

\begin{center}
  \includegraphics[scale=0.4]{imagenes/loginpage}
\captionof{figure}{P�gina de Login}
 \label{fig:loginpage} 
\end{center} 

Si intentamos ingresar a las paginas de Conductores, Incidencias o Ubicacion, nos redigir� a la p�gina de Login, debido a que estas p�ginas fueron definidas como rutas protegidas. Por lo tanto el usuario debe haber inciado sesi�n para poder acceder a las mismas.


\begin{itemize}
\item \textbf{Path:} "/\\ \textbf{Descripci�n:} En esta direcci�n se encontar� la el formulario para poder iniciar sesi�n o registrarse

\item \textbf{Path:} "/home \\  \textbf{Descripci�n:} Esta direcci�n ser� la p�gina principal de la aplicaci�n d�nde se mostrar�n las incidencias m�s recientes as� como una lista de todos los conductores

\item \textbf{Path:} "/conductor/\\ \textbf{Descripci�n:} Esta direcci�n mostrar� el perfil del conductor de id correspondiente

\item \textbf{Path:} "/detalle\textunderscore incidencia \\ \textbf{Descripci�n:} Esta direcci�n mostrar� cada incidencia mostrando detalles como hora, fecha, coordenadas

\item \textbf{Path:}  "/conductor/id/ubicacion \\ \textbf{Descripci�n:} En esta vista se mostrar� la ubicaci�n en tiempo real de cada conductor


\item \textbf{Path:} "/conductor/id/incidencias \\ \textbf{Descripci�n:} En esta vista se mostrar� todas las incidencias registradas por cada conductor

\end{itemize}



\newpage
\section{Definir rutas del backend} \label{Backend}

\subsection{Objetivo}
Crear las rutas mediante las que el cliente realizar� las peticiones y tendr� acceso a las operaciones, as� como su funcionamiento en cuanto a obtenci�n de datos y comunicaci�n con el resto de la aplicaci�n.
\subsection{Descripci�n}

Para poder utilizar los servicios de Amazon Amplify, necesitamos dirigirnos al directorio root de nuestro proyecto y ejectutar el siguiente comando:

\begin{center}
  \includegraphics[scale=0.6]{imagenes/cli}
\captionof{figure}{Instalaci�n Amplify CLI}
 \label{fig:MongoA} 
\end{center} 

Posteriormente, se necesita especificar la regi�n en la cual queremos alojar nuestra aplicaci�n web:

\begin{center}
  \includegraphics[scale=0.6]{imagenes/region}
\captionof{figure}{Configuraci�n del proyecto}
 \label{fig:MongoA} 
\end{center} 


Utilizando un editor de c�digo, se necesita especificar que estar� utilizando el \emph{SDK} de Amazon Amplify:

\begin{center}
  \includegraphics[scale=0.55]{imagenes/sdk}
\captionof{figure}{Implementaci�n del SDK de Amplify}
 \label{fig:MongoA} 
\end{center} 

Posteriormente, declaramos una aplicaci�n de ExpressJs la cu�l nos permitir� ejecutar entre otras cosas, peticiones HTTP para la comunicaci�n con la base de datos.

\begin{center}
  \includegraphics[scale=0.55]{imagenes/expressjs}
\captionof{figure}{Creaci�n de aplicaci�n de Express}
 \label{fig:MongoA} 
\end{center} 

Finalmente, se necesitan definir las rutas de las APIs que se estar�n utilizando en el proyecto, las cuales ser�n dos, la primera se encargar� de la aplicaci�n web, y la segunda de realizar la comunicaci�n con el M�dulo Central de Procesamiento.

Para agregar una api, se necesita ejecutar el siguiente comando desde el directorio ra�z del proyecto.


\begin{center}
  \includegraphics[scale=0.55]{imagenes/addapi}
\captionof{figure}{Amplify add api}
 \label{fig:MongoA} 
\end{center} 

La consola de AWS Amplify requerir� introducir par�metros con los cuales ser�n construida nuestra API, para el presente proyecto se estar� utilizando una arquitectura mediante GraphQL, por lo cual seleccionaremos dicha opci�n.

\begin{center}
  \includegraphics[scale=0.4]{imagenes/graphql}
\captionof{figure}{Configuraci�n de par�metros de GraphQL}
 \label{fig:MongoA} 
\end{center} 

Antes de poder publicar nuestra API en AWS Amplify, se necesita definir el Schema con el cu�l se har� el manejo de datos. A contiuaci�n se muestran dichos schemas:

\begin{center}
  \includegraphics[scale=0.55]{imagenes/schema}
\captionof{figure}{Definici� de Schemas para el manejo de datos}
 \label{fig:MongoA} 
\end{center} 

Finalmente, ejecutaremos el comando \emph{amplify push}, el cu�l publicar� la API hac�a AWS amplify, generando el endpoint correspondiente a dicha API


	

\subsection{Resultados}

Como resultado, tenemos el endpoint de nuestro modelo de GraphQL y nuestra API Key generada por Amplify

\begin{center}
  \includegraphics[scale=0.55]{imagenes/endpoints}
\captionof{figure}{Generaci�n de Endpoint de GraphQL}
 \label{fig:MongoA} 
\end{center} 


\newpage

\section{Creaci�n de la base de datos No Relacional}

Debido a problemas de integraci�n junto con los servicios de autenticaci�n y de despliegue de Amplify, se decidi� utilizar el sistema de gesti�n de bases de datos DynamoDB.

DynamoDB es un servicio de base de datos NoSQL Ofrecido por Amazon Web Services. DynamoDB trabaja con tablas. Estas a su vez, contienen par�metros importantes que se mencionar�n a continuaci�n.



\begin{itemize}
\item \textbf{\emph{Primary Key}}: Se trada de una clave primaria simple, compuesta por un solo atributo denominado clave de partici�n. Una clave primaria puede ser una clave de partici�n o una combinaci�n de clave de partici�n y clave de ordenaci�n. La clave primaria debe ser �nica en toda la tabla.
\begin{itemize}
\item \textbf{\emph{Parition Key}}: Es la llave principal por la cual se agrupar�n los datos, y determina c�mo se particiona la informaci�n.

\item \textbf{\emph{Sort Key}}: Es llave de ordenamiento de los datos.

\end{itemize}

\end{itemize}

\begin{center}
  \includegraphics[scale=0.5]{imagenes/dynamo}
\captionof{figure}{Tablas en DynamoDB}
 \label{fig:cognito} 
\end{center} 


DynamoDB almacena los datos como grupos de atributos, conocidos como elementos. Los elementos son similares a las filas o registros de otros sistemas de bases de datos. DynamoDB almacena y recupera cada elemento en funci�n del valor de la clave principal, que debe ser �nico.

DynamoDB utiliza el valor de la clave de partici�n como par�metro de entrada para una funci�n hash interna. El resultado de la funci�n hash determina la partici�n en la que se almacena el elemento. La ubicaci�n de cada elemento viene determinada por el valor hash de su clave de partici�n

Todos los elementos con la misma clave de partici�n se almacenan juntos y, para las claves de partici�n compuestas, se ordenan por el valor de la clave de ordenaci�n. DynamoDB divide las particiones por clave de ordenaci�n si el tama�o de la colecci�n crece m�s de 10 GB\cite{dynamo}.

\subsection{Objetivo}
Crear la base de datos en MongoDB.


\subsection{Descripci�n}

Para crear nuestras tablas de DynamoDB, se debe ingresar a la consola de AWS.

\begin{center}
  \includegraphics[scale=0.5]{imagenes/aws}
\captionof{figure}{Consola de AWS}
 \label{fig:cognito} 
\end{center} 
\subsection{Resultados}

Una vez dentro, ingresamos a la secci�n del servicio de DynamoDB


\begin{center}
  \includegraphics[scale=0.5]{imagenes/tables}
\captionof{figure}{Tablas generadas mediante los schemas definidos}
 \label{fig:cognito} 
\end{center} 

Como se puede observar, gracias a los pasos realizados en la secci�n \ref{Backend}, DynamoDB crea autom�ticamente las tablas creadas en base a los schemas definidos previamente.

\newpage
\section{Conexi�n Backend con Mongo DB}



\subsection{Objetivo}
Realizar la conexi�n de NodeJs con la base de datos MongoDb.

\subsection{Descripci�n}
Para realizar la conexi�n y la integraci�n de los servicios de DynamoDB hac�a nuestra API, se har� uso de AppSync. Las API de GraphQL creadas con AWS AppSync brindan a los desarrolladores frontend la capacidad de consultar varias bases de datos, microservicios y API desde un �nico punto de conexi�n de GraphQL. 

\begin{center}
  \includegraphics[scale=0.4]{imagenes/appsync}
\captionof{figure}{Funcionamiento de Appsync}
 \label{fig:MongoA} 
\end{center} 

AWS AppSync crea las API sin servidor de GraphQL y de publicaci�n o suscripci�n que simplifican el desarrollo de aplicaciones a trav�s de un �nico punto de conexi�n para consultar, actualizar o publicar datos.

\subsection{Resultados}

Despu�s de haber realizado los pasos de la secci�n \ref{Backend}, si ejecutamos el comando \emph{amplify status}, la consola de Amplify nos retornara el endpoint de GraphQL junto con AppSync correspondiente, el cu�l se utilizar� para realizar todas las operaciones con respecto al almacenamiento de datos

\begin{center}
  \includegraphics[scale=0.55]{imagenes/appsyncendpoint}
\captionof{figure}{Generaci�n de endpoint de GraphQL}
 \label{fig:MongoA} 
\end{center} 


\newpage
\section{Sistema de acceso con credenciales}


\subsection{Objetivo}
Establecer los roles de cada tipo de usuario con sus respectivos permisos de acceso a la aplicaci�n web utilizando Amazon Cognito
\subsection{Descripci�n}

Amazon Cognito funciona utilizando \emph{pools} de usuarios. Un pool de usuarios es un directorio almacenado en los servicios de Amazon\cite{cognito}. Los beneficios que ofrece estar registrado en un pool de usuarios de Amazon Cognito son los siguientes:



\begin{itemize}

\item Servicio de registro e inicio de sesi�n
\item Gesti�n del directorio de usuarios
\item Servicios de seguridad tales como verificaci�n de dos pasos
\item Acceso a servicios de la suite de AWS	tales como S3 o Dynamodb




\end{itemize}


\textbf{Funcionamiento}


\begin{center}
  \includegraphics[scale=0.5]{imagenes/cognito}
\captionof{figure}{Funcionamiento de Amazon Cognito}
 \label{fig:cognito} 
\end{center} 


\begin{itemize}
\item Como primer paso el usuario inicia sesi�n a trav�s de un grupo de usuarios y recibe tokens del grupo de usuarios despu�s de un
autenticaci�n exitosa.

\item Posteriormente la aplicaci�n intercambia los tokens del grupo de usuarios por las credenciales de AWS a trav�s de un grupo de identidades.

\item Finalmente, el usuario puede usar esas credenciales de AWS para acceder a otros servicios de AWS, como
Amazon S3 o DynamoDB.

\end{itemize}

\textbf{Implementaci�n}

Para poder hacer uso de Amazon Cognito en nuestra aplicaci�n debemos de introducir el siguiente comando:

\begin{center}
  \includegraphics[scale=0.7]{imagenes/add}
\captionof{figure}{Implementaci�n de Amazon Cognito en el proyecto}
 \label{fig:cognito} 
\end{center} 

Obteniendo el siguiente men�:

\begin{center}
  \includegraphics[scale=0.5]{imagenes/menu}
\captionof{figure}{Menu de configuraci�n de Amazon Cognito}
 \label{fig:cognito} 
\end{center} 

Dejamos seleccionado la primera opci�n, la cual nos permitir� utilizar los servicios de autenticaci�n ofrecidos por Amazon Cognito, adem�s de otros serivios de la suite de AWS.

Finalmente utilizamos el comando \emph{amplify push} para desplegar los cambios a nuestra aplicaci�n.





\subsection{Resultados}

\begin{center}
  \includegraphics[scale=0.5]{imagenes/console}
\captionof{figure}{Implementaci�n completada}
 \label{fig:cognito} 
\end{center} 

Entrando a nuestra consola de AWS, en la secci�n de Amazon Cognito, se puede observar dos grupos de usuarios, uno de tipo Administrador, el cual puede realizar cambios a la configuraci�n de la aplicaci�n, y otro de tipo de Usuario, el cual s�lo puede hacer uso del sistema de inici� de sesi�n y registro ofrecido por Cognito.

\begin{center}
  \includegraphics[scale=0.5]{imagenes/pools}
\captionof{figure}{Grupos de usuario}
 \label{fig:cognito} 
\end{center} 

\begin{center}
  \includegraphics[scale=0.4]{imagenes/admin}
\captionof{figure}{Grupos de usuario}
 \label{fig:cognito} 
\end{center} 

\begin{center}
  \includegraphics[scale=0.4]{imagenes/users}
\captionof{figure}{Grupos de usuario}
 \label{fig:cognito} 
\end{center} 






\newpage
\section{Investigaci�n de modelos de Redes Neuronales Convolucionales}


\subsection{Objetivo}
Determinar distintos modelos de redes neuronales convolucionales que ofrezcan mejor eficiancia al clasificar im�genes.

\subsection{Descripci�n}
Para realizar la investigaci�n de los modelos de redes neuronales convolucionales se consult� la documentaci�n que ofrece Tensorflow y Keras. Dentro de las aplicaciones en Tensorflow se encuentran disponibles distintos modelos de aprendizaje profundo pre entrenados, los cuales se pueden utilizar para predicci�n y extracci�n de caracter�sticas, lo cual nos permitir� realizar una clasificaci�n dentro de una imagen. Adem�s de estas aplicaciones pre-entrenadas, TensorFlow.keras tambi�n proporciona una variedad de capas de redes neuronales, funciones de p�rdida, optimizadores y m�tricas para construir y entrenar modelos personalizados. 

\begin{center}
  \includegraphics[scale=0.5]{imagenes/tf}
\captionof{figure}{Documentaci�n de Tensorflow referente a las aplicaciones con keras\cite{tff}.  }
 \label{fig:AppsKeras} 
\end{center} 

Existen diversas familias de modelos de aprendizaje preentrenados, cada uno de ellos dise�ado para resolver diferentes problemas en el aprendizaje profundo. Algunas de las familias m�s populares de modelos de redes neuronales convolucionales para la clasificaci�n de im�genes son las siguientes:

\begin{itemize}
\item VGG: 
La familia de modelos VGG, lanzada por el Visual Geometry Group de la Universidad de Oxford en 2014, es conocida por su simplicidad y efectividad en tareas de clasificaci�n de im�genes. Los modelos de esta familia se utilizan com�nmente como modelos base en tareas de transferencia de aprendizaje.

\item Inception: 
La familia de modelos Inception, lanzada por Google en 2014, se enfoca en mejorar la eficiencia y la precisi�n de los modelos convolucionales mediante la utilizaci�n de m�dulos de convoluci�n en paralelo y convoluci�n 1x1. Los modelos de esta familia se utilizan com�nmente en tareas de clasificaci�n de im�genes y detecci�n de objetos.

\item DenseNet: 
La familia de modelos DenseNet, lanzada por la Universidad de California, Berkeley en 2016, se enfoca en mejorar la propagaci�n de caracter�sticas a trav�s de la red convolucional mediante conexiones densas entre capas. Los modelos de esta familia se utilizan com�nmente en tareas de clasificaci�n de im�genes.

\item MobileNet: 
La familia de modelos MobileNet, lanzada por Google en 2017, se enfoca en reducir el tama�o y la complejidad de los modelos convolucionales para que sean m�s eficientes en t�rminos de recursos computacionales. Los modelos de esta familia se utilizan com�nmente en aplicaciones m�viles y en dispositivos con recursos limitados.

\item ConvNeXt: 
La familia de modelos ConvNeXt, lanzada por Facebook en 2017, se enfoca en mejorar la eficiencia y la precisi�n de los modelos convolucionales al utilizar m�dulos de convoluci�n multi-ramificados. Los modelos de esta familia se utilizan com�nmente en tareas de clasificaci�n de im�genes y detecci�n de objetos.

\item NasNet:
La familia de modelos NasNet, lanzada por Google en 2018, se enfoca en automatizar el dise�o de arquitecturas de redes neuronales convolucionales utilizando b�squeda de arquitectura neuronal automatizada (NAS). Los modelos de esta familia se utilizan com�nmente en tareas de clasificaci�n de im�genes y detecci�n de objetos.

\item EfficientNet: 
La familia de modelos EfficientNet, lanzada por Google en 2019, es una extensi�n de los modelos MobileNet que se enfoca en maximizar el desempe�o del modelo mientras se mantiene el tama�o y la complejidad reducidos. Los modelos de esta familia han superado consistentemente el desempe�o en comparaci�n con otros modelos en cuanto a la clasificaci�n de im�genes.

\end{itemize}

\begin{center}
  \includegraphics[scale=0.8]{imagenes/modelos_keras}
\captionof{figure}{Modelos de aprendizaje profundo disponibles en Keras.\cite{keras}  }
 \label{fig:Keras} 
\end{center} 

La tabla hace referencia al nombre del modelo y el tama�o del modelo en MB, por otro lado la precisi�n top-1 y top-5 se refiere al rendimiento del modelo en el conjunto de datos de validaci�n de ImageNet(base de datos de im�genes etiquetadas para el entrenamiento y evaluaci�n de modelos de visi�n por computadora). La profundidad se refiere a la profundidad topol�gica de la red incluyendo capas de activaci�n, capas de normalizaci�n por lotes, etc. El tiempo por paso de inferencia es el promedio de 30 lotes y 10 repeticiones, se refiere al tiempo que tarda un modelo de aprendizaje en procesar una �nica muestra de entrada y producir una salida. 

El tiempo de inferencia es importante porque puede afectar la capacidad del modelo para procesar datos en tiempo real y afectar la experiencia del usuario en aplicaciones en l�nea. Dos de las arquitecturas de redes neuronales convolucionales que se enfocan a reducir el tiempo de inferencia son MobileNet y EfficientNet. Estas arquitecturas permiten ser ejecutadas en dispositivos con recursos limitados como tel�fonos m�viles y dispositivos integrados, debido a que pueden procesar im�genes m�s r�pidamente que otras arquitecturas m�s complejas. 
 
\textbf{Aprendizaje por transferencia}\\

El Transfer Learning, o aprendizaje transferido en espa�ol, se refiere al conjunto de m�todos que permiten transferir conocimientos adquiridos gracias a la resoluci�n de problemas para resolver otros problemas. La utilizaci�n de m�todos de Transfer Learning en Deep Learning consiste principalmente en explotar redes neuronales pre-entrenadas. Generalmente, estos modelos corresponden a algoritmos de alto rendimiento que han sido desarrollados y entrenados sobre grandes bases de datos y que son hoy de libre acceso \cite{TLe}.


El aprendizaje por transferencia nos permite hacer uso de los modelos pre-entrenados y modificar la estructura de estos modelos en base a los objetivos deseados, en lugar de entrenar una red neuronal desde cero para cada tarea, se utilizan los pesos de una red neuronal pre-entrenada como punto de partida y se ajustan con el objetivo de resolver una nueva tarea. 

La idea detr�s del transfer learning es que muchas tareas de aprendizaje profundo tienen caracter�sticas similares y comparten patrones comunes en los datos. Al transferir el conocimiento de una tarea a otra, se pueden aprovechar los conocimientos previamente adquiridos para mejorar la eficiencia y la precisi�n del modelo en la nueva tarea.


\subsection{Resultados}

Como resultado de la investigaci�n, los modelos MobileNet y EfficientNet ser�n propuestos como base para realizar la clasificai�n de im�genes. 

\clearpage
\section{Dise�o de una red neuronal convolucional capaz de detectar ojos cerrados y abiertos}

\subsection{Objetivo}
Dise�ar y realizar pruebas de los modelos de redes neuronales convolucionales previamente investigados para determinar el rendimiento y la precisi�n de cada uno.

\subsection{Descripci�n}

Para realizar el entrenamiento de los modelos EfficientNet y MobileNet se hizo uso de google colab el cual nos permite ejecutar c�digo de Python en el navegador.

\begin{center}
  \includegraphics[scale=0.5]{imagenes/ggco.JPG}
\captionof{figure}{Entorno de trabajo Google Colab.  }
 \label{fig:GoogleCo} 
\end{center} 



Se requiri� de un dataset con im�genes de ojos abiertos y cerrados para entrenar los modelos, el dataset que se utiliz� es el siguiente: MRL Eye Dataset\cite{dataset}.

Parte de los datos del data set original se separaron en dos carpetas, en la primera carpeta se colocaron las im�genes con ojos cerrados y en la segunda carpeta las im�genes de ojos abiertos. Posteriormente se subieron las carpetas a un repositorio en drive para trabajar desde Google Colab. El dataset con el cual se trabaj� contiene 3242 im�genes de las cuales 1840 son im�genes de ojos cerrados y 1402 son de con ojos abiertos. 


\begin{center}
  \includegraphics[scale=0.7]{imagenes/dv}
\captionof{figure}{Dataset a trabajar desde Google Colab. }
 \label{fig:DataGC} 
\end{center} 



Se importaron las librer�as a utilizar y el repositorio de drive para hacer uso del dataset, as� mismo se definieron 2 clases, la primera para ojos abiertos y la segunda para ojos cerrados. 
Ya que los modelos pre entrenados con los que se trabaj� son en base a im�genes con dimensi�n de 244 x 244, se defini� el tama�o de la imagen en 224.


\begin{center}
  \includegraphics[scale=0.4]{imagenes/librerias.JPG}
\captionof{figure}{Librer�as utilizadas y repositorio en drive del dataset.}
 \label{fig:Librerias} 
\end{center} 


Es necesario convertir las im�genes en un arreglo de datos con su respectiva clase por lo que se creo una funci�n con dicho proposito, posteriormente se etiquetaron los datos y se normalizaron para obtener las entradas de datos, donde X contiene los pixeles de las im�genes en tama�o 224x224 en 3 planos (rgb) y Y contiene el arreglo de etiquetas 0 y 1, que corresponden a la clase a la que pertenece cada imagen. 

\begin{center}
  \includegraphics[scale=0.4]{imagenes/pdata}
\captionof{figure}{Preparaci�n de los datos de entrada}
 \label{fig:Data} 
\end{center} 


Posteriormente se exporto el modelo y se visualiz� la arquitectura de la red.

\begin{center}
  \includegraphics[scale=0.4]{imagenes/effnet.JPG}
\captionof{figure}{Exportaci�n del modelo MobileNet}
 \label{fig:MMobileNet} 
\end{center} 

Se aplicaron modificaciones a partir de la cuarta �ltima capa, se agregaron nuevas capas y la funci�n de activaci�n sigmoid.

\begin{center}
  \includegraphics[scale=0.4]{imagenes/effinettl.JPG}
\captionof{figure}{Modificaci�n del modelo Mobilnet}
 \label{fig:MobileNetTL} 
\end{center} 

Finalmente se entrena el modelo MobileNet 

\begin{center}
  \includegraphics[scale=0.4]{imagenes/entrenamientoen.JPG}
\captionof{figure}{Entrenamiento del modelo MobileNet}
 \label{fig:EfficientEn} 
\end{center} 


Para el modelo EfficientNet se realiz� el mismo procedimiento que en el modelo EfficientNet.


\begin{center}
  \includegraphics[scale=0.4]{imagenes/entrenamientomn.JPG}
\captionof{figure}{Entrenamiento del modelo EfficientNet}
 \label{fig:MobileNetEn} 
\end{center} 

La gr�fica muestra el las epocas y la precisi�n obtenida en cada una de ellas, as� como la precisi�n de los datos ocupados para la validaci�n dentro del entrenamiento. 

MobileNet

\begin{center}
  \includegraphics[scale=0.4]{imagenes/ENgrafico.JPG}
\captionof{figure}{Gr�fica de precisi�n en cada epoca del modelo MobileNet. }
 \label{fig:GraficaEN} 
\end{center} 

EfficientNet

\begin{center}
  \includegraphics[scale=0.4]{imagenes/MNgrafico.JPG}
\captionof{figure}{Gr�fica de precisi�n en cada epoca del modelo EfficientNet.}
 \label{fig:GraficaMN} 
\end{center} 


\subsection{Resultados}

Una vez entrenados los modelos se realizaron las pruebas de los modelos EfficientNet y MobileNet para ojos cerrado y abiertos.
Se obtuvieron los siguientes resultados:

 MobileNet


\begin{center}
  \includegraphics[scale=0.4]{imagenes/ojo_cerradoEN.JPG}
\captionof{figure}{Predicci�n 1 para del modelo MobileNet. }
 \label{fig:Prueba1} 
\end{center} 

\begin{center}
  \includegraphics[scale=0.4]{imagenes/ojo_abiertoEN.JPG}
\captionof{figure}{Predicci�n 2 para del modelo MobileNet. }
 \label{fig:Prueb2} 
\end{center} 


EfficientNet

\begin{center}
  \includegraphics[scale=0.4]{imagenes/ojo_cerradoMN.JPG}
\captionof{figure}{Predicci�n 1 para del modelo EfficientNet.}
 \label{fig:Prueba3} 
\end{center} 

\begin{center}
  \includegraphics[scale=0.4]{imagenes/ojo_abiertoMN.JPG}
\captionof{figure}{Predicci�n 2 para del modelo EfficientNet.}
 \label{fig:Prueba4} 
\end{center} 

\newpage
\section{Conclusiones}

Se implement� una p�gina de Login utilizando los servicios de AWS Amplify y Cognito, lo que permite la autenticaci�n y registro de usuarios en la aplicaci�n. Tambi�n se han definido rutas protegidas para garantizar que solo los usuarios autenticados puedan acceder a ciertas secciones de la aplicaci�n. Adem�s, se ha utilizado DynamoDB para almacenar los datos de la aplicaci�n y se ha creado una API sin servidor de GraphQL utilizando AWS AppSync para simplificar el desarrollo de la aplicaci�n. Los modelos MobileNet y EfficientNet han sido investigados y propuestos como base para la clasificaci�n de im�genes de ojos abiertos y cerrados. Aunque se han realizado pruebas con los modelos MobileNet y EfficientNet para la clasificaci�n de im�genes de ojos abiertos y cerrados, se necesita seguir trabajando en la mejora del sistema y la realizaci�n de pruebas adicionales para mejorar su eficiencia y precisi�n. Es posible que el sistema a�n presente problemas de sobreajuste o sesgo, lo que puede afectar su capacidad para generalizar a nuevos datos. El proyecto ha logrado implementar una aplicaci�n escalable utilizando los servicios de AWS, pero se requiere seguir trabajando en la optimizaci�n y evaluaci�n de los modelos de aprendizaje autom�tico para mejorar la eficiencia y precisi�n del sistema.


\newpage
\section{Bibliografia}
%\bibliographystyle{apacite}

\begin{thebibliography}{10} %10 significa el n�mero m�ximo de items
%Aqu� ponga la bibliograf�a y referencias usadas

%Art�culo:

\bibitem{dom}F. Martinez. \emph{Protecci�n de rutas con React Router Dom}, DEV Community. https://dev.to/franklin030601/proteccion-de-rutas-con-react-router-dom-144j (accedido el 7 de marzo de 2023).

\bibitem{dynamo} \emph{�Qu� es Amazon DynamoDB?}, Amazon Docs. https://docs.aws.amazon.com/es-es/amazondynamodb/latest/developerguide/Introduction.html (accedido el 2 de marzo de 2023).

\bibitem{appsync} \emph{API sin servidor de GraphQL y de publicaci�n o suscripci�n $-$ AWS AppSync $-$ Amazon Web Services}. Amazon Web Services, Inc. https://aws.amazon.com/es/appsync/ (accedido el 12 de marzo de 2023).  

\bibitem{cognito} \emph{AWS | Gesti�n de identidades y autenticaci�n de usuario en la nube}, Amazon Web Services, Inc. https://aws.amazon.com/es/cognito/ (accedido el 8 de marzo de 2023).

\bibitem{tff} TensorFlow. (2021). tf.keras.applications.mobilenet. TensorFlow API documentation. [Online]. Disponible en: https://www.tensorflow.org/api\_docs/python/tf/keras/applications/mobilenet [Accedido el 13 de marzo de 2023].

\bibitem{keras} Keras. (2021). Keras Applications. [Online]. Disponible en: https://keras.io/api/applications/ [Accedido el 13 de marzo de 2023].

\bibitem{TLe}M. Arroyo, "�Qu� es el Transfer Learning?," Data Scientist, 2019. [Online]. Available: \url{ https://datascientest.com/es/que-es-el-transfer-learning#:~:text=%E2%80%9CEl%20Transfer%20Learning%2C%20o%20aprendizaje,el%20crecimiento%20del%20Deep%20Learning. }[Accessed: 13-Mar-2023].

\bibitem{dataset} Marek Ruzicka Lab. (s.f.). Eye Dataset. [Online]. Disponible en: http://mrl.cs.vsb.cz/eyedataset/ [Accedido el 13 de marzo de 2023].


\end{thebibliography}


\end{document}


