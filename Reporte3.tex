\documentclass[12pt,letterpaper]{article}
\usepackage[spanish]{babel}
\usepackage{amsmath}
\usepackage[latin1]{inputenc}
\usepackage{graphicx}
\usepackage{amssymb}
\usepackage{anysize}
\usepackage{array}
\usepackage{multicol}
\usepackage{lmodern}
\usepackage{adjustbox}
\usepackage{enumitem}
\usepackage{float}
\marginsize{2cm}{2cm}{1cm}{1cm}
\usepackage{fancyhdr}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\footnotesize UPIITA}
%\fancyfoot[R]{\footnotesize Diseño}
\fancyfoot[R]{\thepage}
\fancyfoot[L]{\footnotesize Proyecto Terminal 1}
\renewcommand{\footrulewidth}{0.4pt}
\usepackage{graphics}
\usepackage{capt-of}
\usepackage[pdftex=false,colorlinks=true,plainpages=true,citecolor=blue,linkcolor=blue]{hyperref}
\setlength\parindent{0pt}
\usepackage[usenames]{color}
\usepackage{pdfpages}
\usepackage{float}
\usepackage{shapepar}

\begin{document}
\renewcommand{\tablename}{Tabla}
\renewcommand{\listtablename}{Índice de tablas}

\begin{titlepage}

\newcommand{\HRule}{\rule{\linewidth}{0.3mm}}

\includegraphics[scale=0.45]{imagenes/ipn}
\hspace{10cm}
\includegraphics[scale=0.15]{imagenes/upiita}
\\


\begin{center}


\textsc{\Large ``Sistema para el monitoreo, detección y alerta de somnolencia del conductor mediante visión artificial, comunicación inalámbrica y geolocalización''}\\[0.5cm]



\HRule \\[0.4cm]
{ \huge \bfseries Tercer Reporte Parcial}\\[0.4cm]

\HRule \\[1.5cm]

\begin{center}

Lista de actividades
 
 
\begin{multicols}{2}
\begin{itemize}
\item Búsqueda de manejadores de bases de datos
\item Elección del manejador de bases de datos
\item Modelado de la base de datos
\item Análisis del Módulo de Telemetría
\item Diseño del Módulo de Telemetría
\item Investigación de Servidores de alojamiento
\item Elección del Servidor de Alojamiento
\item Análisis del Módulo de Estación Base
\item Diseño del Módulo de Estación Base
\item Análisis de la aplicación Web
\item Búsqueda Lenguajes de programación web
\item Elección del lenguaje de programación para la aplicación web
\item Diseño de la aplicación web
\item Cotización de materiales 
\end{itemize}
\end{multicols}
\end{center}


\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\emph{\\Autores:}\\
Alan Eduardo Gamboa Del Ángel\\
Maite Paulette Díaz Martínez\\
Nilsen Alfaro Parra\\

%Grupo:4MM6\\
\end{flushleft}
\end{minipage}
\begin{minipage}{0.5\textwidth}
\begin{flushright} \large
\emph{Asesores:} \\
M.en C. Niels Henrik Navarrete Manzanilla\\
Dr. Rodolfo Vera Amaro\\

\end{flushright}
\end{minipage}

\vfill

30 de Noviembre 2022

\end{center}


\end{titlepage}
\newpage
\tableofcontents
\newpage
\listoffigures
\newpage
\listoftables


\newpage
\section{Búsqueda de manejadores de bases de datos}

Un Sistema Gestor de Base de Datos (SGBD) o \emph{DataBase Management System} (DBMS) es un sistema que permite la creación, gestión y administración de bases de datos, así como la elección y manejo de las estructuras necesarias para el almacenamiento y búsqueda de información del modo más eficiente posible.\\

Los sistemas gestores de bases de datos son clasificados según la forma en que administran los datos en: 
\begin{itemize}
\item Relacionales (SQL)
\item No relacionales (NoSQL)
\end{itemize}


\textbf{Sistemas Gestores de bases de datos Relacionales (SQL)}\\

SQL es un lenguaje estándar de consultas o \emph{queries} a bases de datos. La programación o consultas en SQL sirve para almacenar, manipular y recuperar datos de bases de datos relacionales.\\

La información que almacena la BBDD (base de datos) está relacionada entre sí. Los datos relacionados (registros o filas) son almacenados en tablas que constan de varios campos (columnas). \\

\textbf{Características:}

\begin{itemize}
\item Integridad de los datos\\ Asegura que los datos sean válidos, correctos y completos.

\item Lenguaje estandarizado  \\ Esto quiere decir que se pueden desplegar implementaciones del mismo lenguaje SQL en diferentes sistemas.

\item Sencillez y claridad \\ SQL es un lenguaje unificado, claro y simple, de fácil comprensión. 

\item Flexibilidad \\ Una de las razones por las que SQL es un lenguaje tan utilizado es por su flexibilidad, dada su versatilidad a la hora de implantar soluciones y por permitir definir diferentes formas de ver los datos para satisfacer las especificaciones requeridas por parte del usuario. 

\end{itemize}

\textbf{Ventajas:}


\begin{itemize}

\item Opción segura \\ 
Las tablas y datos permanecen protegidos con los nombres de usuario y sus contraseñas. Por lo tanto, solo una persona autorizada puede acceder a esas tablas y datos para trabajar. 

\item Fácil de usar \\
No existe ningún proceso de procesamiento de consultas y, por lo tanto, las bases de datos relacionales son simples.

\item Rendimiento rápido\\
Fáciles de usar y también son simples por su estructura. Permite al usuario obtener una experiencia rápida. El usuario obtiene muchos filtros de optimización u opciones para aumentar la velocidad de acceso a los datos.
 
\item Presenta datos con precisión \\
Contienen tablas precisas e interrelacionadas. Usa las claves primaria y externa para establecer la relación entre el archivo \emph{raw}. Por lo tanto, los usuarios no tienen ningún problema con la reputación de los datos anteriores que ya han recibido.

\item Accesible en cualquier momento \\
El usuario no necesita ninguna ruta predefinida. Por lo tanto, la accesibilidad en el RDBMS es más fácil en comparación con otras bases de datos. Además, los usuarios también pueden modificar los datos rápidamente. 

\item Puede tener varios usuarios \\
Muchos usuarios pueden acceder a la base de datos al mismo tiempo. Incluso si los datos ya están actualizados.

\end{itemize}

\textbf{Desventajas:}

\begin{itemize}

\item Incrementa el gasto 

Estas bases de datos son bastante caras de usar. Además, la empresa o el usuario deben comprar el software y las herramientas para obtener el resultado completo de RDBMS. Por lo tanto, si se tiene un presupuesto bajo, puede resultar difícil obtener una base de datos de este tipo. 

\item Se puede perder información 

El RDBMS contiene el espacio limitado y estos dispositivos de almacenamiento no pueden almacenar más datos si no hay espacio. Como no hay más almacenamiento, estos datos se pueden perder y crear problemas en el futuro. 

\item Requerido para el uso de dispositivos de almacenamiento físico 

Requiere importantes dispositivos de almacenamiento, especialmente dispositivos de memoria física. 

\item Problema de rendimiento 

El nivel de rendimiento puede ser bajo en las bases de datos relacionales porque depende de filas y columnas. Por lo tanto, si hay muchas filas y tablas, la consulta tardará más en procesar el resultado. Además, si hay una cantidad considerable de datos en la máquina, puede ralentizar el proceso de trabajo.  

\item Puede ser complejo de entender 

Cuando aumenta la cantidad de datos almacenados, se vuelve complicado comprender esos datos de forma simplificada. Sucede porque todos los datos han seguido utilizando la función particular que genera grandes conjuntos de datos para filtrar. 

\end{itemize}

\textbf{Principales sistemas de gestión de bases de datos relacionales} \\

A continuación, se muestra una tabla comparativa de los principales sistemas de gestión de bases de datos relacionales:  

\begin{table}[h]
\begin{tabular}{{|m{0.15\linewidth}|m{0.24\linewidth}|m{0.24\linewidth}|m{0.24\linewidth}|}}
\hline
 & \textbf{SQL Server}  & \textbf{MySQL }  & \textbf{Oracle } \\ \hline
 \textbf{Interfaz }& GUI, SQL   & SQL  & GUI, SQL, Various   \\ \hline
 \textbf{Sistema Operativo  }& Windows, Linux, Solaris, HP, UX, OS X, z/OS, AIX & Windows, Linux, OS X, FreeBSD, Solaris  & Windows  \\ \hline
 \textbf{Clasificación de motores }& Puntuación: 1040.50 

Rango general: 3 

DBS relacional: 3 & Puntuación: 1167.29 

Rango general: 2 

DBS relacional: 2  &  Puntuación: 1264.02 

Rango general: 1 

DBS relacional: 1 \\ \hline
 \textbf{Servidor de sistemas operativos }& Linux 

Windows   & FreeBSD 

Linux 

OSX 

Solaris 

Windows  & AlX 

HP-UX 

Linux 

OSx 

Solaris 

Windows 

z/ OS  \\ \hline
 \textbf{Licencia }& Propietario   & Código Libre  & Propietario  \\ \hline
 \textbf{Empresa }& Microsoft  & Sun Marosysten  &  Oracle Corporation \\ \hline
 \textbf{APIs y otros métodos de acceso }& Flujo de datos tabular (TDS) 

OLE DS 

ADO.NET 

JDBC 

ODBC  & APl nativa propietaria 

ADO.NET 

JDBC 

ODBC  & ODP.NET 

Oracle Call Interface 

(OCI) 

JDBC 

ODBC  \\ \hline
 \textbf{Características  }& Soporte de transacciones. Procedimientos almacenados. 

Permite administrar información de otros 

servidores de datos.  & Operaciones de Indexación Online. 

Particionado de datos. 

Amplio subconjunto del lenguaje SQL. 

Algunas extensiones son incluidas igualmente.  &  Operaciones de Indexación Online. 

Particionado de datos. 

Amplio subconjunto del lenguaje SQL. 

Algunas extensiones son incluidas igualmente. \\ \hline
 \textbf{Escalabilidad  }& Vertical complejo  & Vertical complejo  &  Vertical \\ \hline
 \textbf{Curva de aprendizaje }& Difícil   & Medio & Difícil   \\ \hline
\end{tabular}
\caption{Comparación de los Sistemas de Gestión de Bases de Datos Relacionales}
\end{table}

\clearpage

\textbf{Sistemas Gestores de bases de datos No Relacionales (SQL)}\\

Se utilizan en entornos distribuidos que han de estar siempre disponibles y operativos y que gestionan un importante volumen de datos. 

Para la administración de este tipo de bases de datos, actualmente los principales sistemas gestores de bases de datos (SGBD NoSQL) son los siguientes: 

\textbf{Características:}

\begin{itemize}
\item Los datos no tienen que almacenarse en tablas. 

\item Generalmente, su arquitectura es distribuida, la información se almacena en más de una máquina del sistema. Por lo tanto, los sistemas que las soportan tienen una mayor escalabilidad horizontal (a mayor número de nodos mayor rendimiento) y también mayor tolerancia ante fallos en los distintos nodos. 

\item Son más eficientes en el procesamiento de los datos que las BBDD relacionales, por tal motivo, son la elección para aplicaciones que hacen un uso intensivo de estos, como por ejemplo \emph{streaming}. 

\item Utilizan lo que se conoce como consistencia eventual, que consiste en que los cambios realizados en los datos serán replicados a todos los nodos del sistema, lo cual aumenta el rendimiento de estos sistemas en contraposición a las propiedades ACID de las BBDD relacionales (Atomicidad, Consistencia/Integridad, Aislamiento y Durabilidad).
\end{itemize}

\textbf{Ventajas:}

\begin{itemize}
\item Aplicaciones de big data  \\
Grandes volúmenes de información son manejados fácilmente por las bases de datos NoSQL.  

\item Administración de la base de datos \\
Requieren menos administración práctica, cuentan con capacidades de distribución de datos y reparación automática, modelos de datos simplificados y menos requisitos de ajuste y administración. 

\item Versatilidad \\
Las posibilidades de crecimiento en el volumen de datos o la posibilidad de incluir cambios sobre la forma en la que ingresan los datos sin necesidad de alterar la estructura, lo que permite adaptarse de forma rápida a un entorno de alto dinamismo. 

\item Crecimiento Horizontal  \\
Son altamente escalables, si se requiere instalar mayor cantidad de nodos para ampliar la capacidad, se puede hacer sin problemas. Esto no interrumpe la usabilidad o consultas dentro de la base de datos.  

\item Economía  \\
No se necesitan servidores con gran cantidad de recursos para operar. La adaptabilidad y flexibilidad permiten empezar con bajos niveles de inversión en equipos e ir ampliando la capacidad a medida de las necesidades. 

\end{itemize}

\textbf{Desventajas:}

\begin{itemize}
\item Menos maduro  \\
La mayoría de las alternativas de bases de datos NoSQL apenas han salido de las etapas de preproducción, y hay muchas características importantes que aún no se han implementado. 

\item Atomicidad \\
Algunas de estas bases de datos no incorporan la atomicidad de la información. Esto puede derivar en que la información no sea consistente entre nodos. 

\item Software poco documentado  \\
Al ser tan relativamente nuevo, el NoSQL puede adolecer de que algunas operaciones sean limitadas por la falta de información sobre las herramientas y sus características. 

\item Baja estandarización \\
No se tiene un criterio plenamente definido entre los motores que se utilizan en este tipo de base de datos. El lenguaje tiende a variar según el tipo de base de datos que se vaya a utilizar. 

\item Herramientas GUI \\
La mayoría de las bases de datos NoSQL no contienen una interfaz gráfica. Requiere conocimiento especial para poder ejecutar algunas de ellas.

\end{itemize}

\textbf{Principales sistemas de gestión de bases de datos no relacionales }

Se utilizan en entornos distribuidos que han de estar siempre disponibles y operativos y que gestionan un importante volumen de datos. \\

Para la administración de este tipo de bases de datos, actualmente los principales sistemas gestores de bases de datos (SGBD NoSQL) son los siguientes: 


\begin{table}[h]
\begin{tabular}{{|m{0.16\linewidth}|m{0.18\linewidth}|m{0.18\linewidth}|m{0.18\linewidth}|m{0.18\linewidth}|}}
\hline
 & \textbf{Cassandra } & \textbf{MongoDB } & \textbf{Redis } & \textbf{Amazon DynamoDB } \\ \hline
 \textbf{Tipo de base de datos }& NoSQL \emph{wide-column}  & NoSQL Orientado a documentos  & NoSQL clave-valor  & NoSQL clave-valor  \\ \hline
 \textbf{Licencia }& Codigo abierto  & Codigo abierto SSPL & Codigo abierto BSD 3-clause  & Vendor \\ \hline
 \textbf{Cumplimiento ACID }& No & Si  &  Si &  Si \\ \hline
 \textbf{Lenguaje de consulta principal }& CQL  & JavaScript  & Permite el uso de varios lenguajes  & DQL  \\ \hline
 \textbf{Principales casos de uso }& Análisis social, análisis en tiempo real, venta al por menor y mensajería & Gestión de IOT, análisis en tiempo real, desarrollo de aplicaciones, inventario y personalización & Almacenamiento en caché, colas, filtrado y estadísticas  & Juegos, comercio minorista, servicios financieros, publicidad y transmisión de medios  \\ \hline
 \textbf{Seguridad  }& Seguridad integrada para la autorización, el cifrado y la autenticación, pero la seguridad está desactivada de forma predeterminada para facilitar su uso dentro de los clústeres  & Seguridad incorporada para autorización, autenticación y encriptación  & Se inicia automáticamente en modo de protección y ofrece sugerencias de seguridad  & Seguridad integrada para datos y aplicaciones; software, hardware, instalaciones y red seguros del proveedor  \\ \hline
 \textbf{Escalabilidad }& Horizontal  & Horizontal  & Horizontal  & Horizontal  \\ \hline
 \textbf{Curva de aprendizaje  }& Difícil    & Medio   & Medio   &  - \\ \hline
\end{tabular}
\caption{Comparación de los Sistemas de Gestión de Bases de Datos No Relacionales}
\end{table}

\clearpage
\section{Elección del manejador de bases de datos}

Debido a la escalabilidad horizontal, facilidad de implementación, bajo coste y flexibilidad que ofrece los gestores de bases de datos NoSQL para adaptarse a las necesidades del proyecto, se optó por la elección de un gestor de este tipo. Además, se contemplaron las posibles modificaciones dentro del modelado de la base de datos, las cuales tendrán como motivo, cumplir los requisitos del sistema y presentar la información necesaria en la aplicación web. Estas modificaciones (en caso de ser necesarias) podrán ser fácilmente aplicadas usando un SGBD NoSQL ya que ofrecen una mayor facilidad de realizar cambios dentro del esquema a diferencia de un SGBD SQL.  \\

Dentro de los SGBD NoSQL se eligió MongoDB, ya que la aplicación web se realizará utilizando como base el lenguaje JavaScript Node.js para realizar el \emph{backend} de la aplicación, por lo cual MongoDB complementa y facilita el desarrollo del proyecto en herramientas basados en JavaScript. Además, MongoDB es de código abierto, y es una herramienta gratuita hasta cierto punto, por lo cual no se requerirá una licencia para la implementación. Otra característica importante es que es una base de datos multiplataforma, esto nos permitirá registrar información desde el sistema operativo Linux, que se ocupará en la Raspberry Pi y por otro lado se ocupará Windows en la aplicación web para la inserción, modificación, lectura y eliminación de los datos en la base de datos.  

\begin{center}
  \includegraphics[scale=.1]{imagenes/MongoDB_Logo}
\captionof{figure}{Icono de MongoDB}
 \label{fig:MongoDBLogo}
\end{center}



\newpage
\section{Modelado de la base de datos}

Tomando en cuenta la elección de MongodDB como gestor de la base de datos, se consultó la documentación de MongoDB para conocer la estructura y el modelado de los datos.  

MongoDB utiliza documentos para registrar los datos, estos documentos son almacenados dentro de las colecciones, las cuales, en una base de datos relacional se asemeja a una tabla. Las bases de datos en MongoDB están conformadas por una o más colecciones de documentos.  


MongoDB almacena registros de datos como documentos BSON. BSON es una representación binaria de documentos JSON , aunque contiene más tipos de datos que JSON.   

Un registro en MongoDB es un documento, que es una estructura de datos compuesta por pares de campo y valor. Los documentos MongoDB son similares a los objetos JSON. Los valores de los campos pueden incluir otros documentos, matrices y matrices de documentos. 

\begin{center}
  \includegraphics[scale=.7]{imagenes/EstructuraDocumentoMongoDB}
\captionof{figure}{Estructura de un Documento en MongoDB}
 \label{fig:EstructuraDocumentoMongoDB}
\end{center}

Basado en la estructura NOSQL de MongoDB, se propone el siguiente modelo para la base de datos, la cual contará con dos colecciones: Conductores e Incidencias. Cabe mencionar que en dicho modelo no se contempla a los administradores, debido a que se utilizará el sistema de Amazon Cognito, que ofrece herramientas de autenticación, registro, verificación e inicio de sesión para el usuario. 

\begin{center}
  \includegraphics[scale=.3]{imagenes/ModeladoBD}
\captionof{figure}{Modelo propuesto para la base de datos en MongoDB}
 \label{fig:ModeloBD}
\end{center}

El modelo de documento para la colección Conductores, se usará para registrar el nombre y apellido de cada conductor, así mismo se contabilizará el número de incidencias que presenté cada uno de ellos, el contador del conductor en marcha aumentará cada vez que el Módulo Central de Procesamiento envié un reporte de incidencia a la base de datos. Si el Usuario Administrador del Módulo de la Estación Base revisa el video de la incidencia y lo cataloga como Descartar entonces se restará la incidencia, si esta es catalogada como Confirmar, el contador permanecerá igual.  Es importante mencionar que el registro de cada conductor se realizará desde la Aplicación Web. A continuación, se muestran los campos y un ejemplo de los valores que pueden ser ingresados dentro del documento de registro de conductores. 

\begin{center}
  \includegraphics[scale=.9]{imagenes/ModeloConductores}
\captionof{figure}{Documento de Registro de Conductores}
 \label{fig:DocumentoConductores}
\end{center}

El modelo de documento para la colección Incidencias, se usará para registrar el Reporte de Incidencia que presente un conductor, el cual será enviado desde el Módulo Central de Procesamiento, por tanto, se realizará una consulta previa a la colección Conductores para obtener el id, nombre y apellido del conductor en marcha. Posteriormente se realizará el reporte de la incidencia, el cual contendrá el Id del conductor, la fecha y hora de la incidencia, el nombre y apellido del conductor, y el estado de incidencia, este último muestra si la incidencia fue catalogada como descartada o confirmada por parte del Usuario Administrador después de revisar el video de la incidencia. Como se mencionó anteriormente, MongoDB permite anidar documentos, por lo que, dentro de este documento se encontrará anidado un segundo documento llamado Detalles, el cual registrará la Ubicación donde sé detectó la incidencia y la URL donde se encontrará almacenado el video.  


\begin{center}
  \includegraphics[scale=.9]{imagenes/ModeloIncidencias}
\captionof{figure}{Documento de registro de Incidencias}
 \label{fig:DocumentoIncidencias}
\end{center}

Cabe señalar que los anteriores modelos muestran el campo Id, sin embargo, MongoDB asigna automáticamente un Id, si el id no es especificado, esto lo realiza cada vez que se crea un nuevo documento dentro de una colección, el cual es un valor hexadecimal de 12 bytes representado en 24 caracteres. Por tanto, se utilizará el id que proporcione Mongo DB en los documentos. \\

La base de datos forma parte del Módulo de Estación Base y tendrá conexión con la Aplicación Web, sin embargo, la base de datos también tendrá comunicación con el Módulo Central de Procesamiento, ya que desde dicho módulo se realizará la inserción de incidencias. El siguiente diagrama muestra la relación de la base de datos y el Módulo de Central de Procesamiento.  


\begin{center}
  \includegraphics[scale=.7]{imagenes/RelacionBD}
\captionof{figure}{Diagrama de Comunicación de la Base de Datos }
 \label{fig:RelacionBD}
\end{center}


\section{Análisis del Módulo de Telemetría }

Los sistemas automatizados de comunicación, mayormente inalámbricos, se encargan de recopilar datos remotos y transmitir la información.
La tecnología previamente elegida para la implementación de este módulo es la red 4G/LTE, su estándar es establecido por el 3GPP (Proyecto de asociación de tercera generación) donde establece sus especificaciones en la versión 8 de sus estándares, el cual clasifica hasta 13 categorías LTE. En estas categorías se especifica la velocidad máxima de carga y descarga, siendo la categoría 0 la velocidad más baja.

\begin{table}[H]
	\begin{center}
\begin{tabular}{| c | c | c |}
\hline

Categoría & Velocidad Máxima de Bajada(Mbps)& Velocidad Máxima de Subida (Mpbs \\ \hline
0 &  1 &  1   \\ \hline
1 &  10 &  5  \\ \hline
2 &  50 &  25   \\ \hline
3 & 100 &  50  \\ \hline
4 & 150 &  50  \\ \hline
5 & 300 &  75   \\ \hline
6 &  300 &  50  \\ \hline
7 &  300 &  150 \\ \hline
8 & 1200 & 600   \\ \hline
9 &  450 &  50  \\ \hline
10 &  450 &  100  \\ \hline
11 &  600 &  50 \\ \hline
12 &  600 &  100  \\ \hline
13 & 390 &  150  \\ \hline

\end{tabular}
\caption{\label{tab:CLTE} Categorías LTE}
\end{center}
\end{table}

De la categoría 0 a la 5 se definen para equipos de usuarios, es decir, telefonía celular. 
Las antenas de la red 4G no cuentan con una categoría inferior a 4, siendo la más común la categoría 6. Por lo tanto, la velocidad se encuentra entre 1-50 Mbps que depende de la cobertura de la red.
Para este sistema, el análisis debe cumplir con los parámetros que dicta el teorema de Shannon-Hartley que establece que, dado un canal con ruido con una capacidad $C$ e información transmitida en una tasa $R$ entonces si $R<C$ existe una técnica de codificación que permite que la probabilidad de error en el $Rx$ se reduzca. Se debe cumplir que la tasa de bits debe ser siempre menor a la capacidad del canal.

Este análisis se divide en:
\begin{itemize}
\item Telemetría:\\ El módulo de telemetría es el encargado de recopilar, procesar y transmitir las coordenadas de la ubicación geográfica del conductor a la estación base que se encarga de monitorear los datos obtenidos.

\item Datos:\\ El encargado de recopilar, procesar y transmitir los fotogramas que el sistema identifica como somnolencia en el conductor, así como un mensaje informativo.

\item Telemetría:\\ Encargado de revisar la cobertura de la zona o regiones presentes en el alcance del sistema.
\end{itemize}

\subsection{Análisis de Telemetría }
El objetivo que tiene el módulo de telemetría es mandar el posicionamiento mediante coordenadas (latitud y longitud) del vehículo en movimiento en tiempo real. Las coordenadas serán mandadas en forma de cadena de texto, teniendo un aproximado máximo de hasta 100 bits, otro punto a considerar es el periodo de tiempo entre el envío de cada posición, al tratarse de un vehículo en movimiento y la velocidad máxima siendo regida por Semovi (Secretaría de movilidad de la ciudad de México) que dicta una velocidad promedio de entre 50-80 km/h.

Se propone una velocidad de 60 km/h:

\begin{equation*}
60 \frac{km}{h} \cdot \frac{1000m}{1km}\cdot \frac{1h}{60min} \cdot \frac{1min}{60s}= 16.6 \frac{m}{s}\approx1 7\frac{m}{s}
\end{equation*}


El automóvil se desplaza aproximadamente 17 metros en 1 segundo. Se propone que cada 10 segundos se envíe la ubicación  para posteriormente trazar la ruta en el mapa. Teniendo 170 metros recorridos cada 10 segundos del viaje.
Verificando que se cumpla el Teorema de Shannon-Hartley  tenemos:
\begin{equation*}
100 bits \cdot 10 s=1kbps
\end{equation*} 
y la máxima tasa de datos que el transceptor tiene es de 5 Mbps.

Cumpliéndose la relación establecida de $R<C$.
\begin{equation*}
1kbps<5 Mbps
\end{equation*}

\subsection{Análisis de Datos }
El objetivo que tiene el análisis de los datos es mandar fotogramas a la estación base para su futura gestión y validación, así como el almacenamiento de estos; de igual manera se pretende el envío de mensajes informativos para la estación base.
Anteriormente se establecen las especificaciones que debe tener el material multimedia a utilizar, las características que debe tener el clip grabado es una profundidad de bits de mínimo 8  y una resolución de mínimo 960 x 540 píxeles comúnmente conocido como QHD o Quarter of High Definition por sus siglas en inglés, que es lo mínimo necesario que requiere el sistema, todo esto en una secuencia de 30fps.
Tenemos que:

\begin{equation*}
960 \; x \; 540 \; x \; 8=4,147,200 \; bits
\end{equation*}

Cada imagen tiene 4,147,200 bits entonces en 1 segundo se transmiten:
\begin{equation*}
4,147,200 \; x \; 30 fps=124.41 \; Mbps
\end{equation*}
Que rebasa la capacidad de canal de red establecida por lo que es necesario el uso de un compresor de video MP4 para modificar la resolución en la que se almacena el video en la estación base, por otro lado, se tiene que contemplar el envío de al menos 2 fotogramas por segundo para no sobrepasar la capacidad de canal.   
Tenemos que:

\begin{equation*}
640 \; x \; 480 \; x \; 8=2,457,600 \; bits
\end{equation*}
Cada imagen tiene 2,457,600 bits entonces en 1 segundo se transmiten:
\begin{equation*}
2,457,600 \; x \; 2 fps=4.91 \; Mbps
\end{equation*}
Cumpliéndose nuevamente la relación establecida $R < C$.
\begin{equation*}
4.91 Mbps<5 Mbps
\end{equation*}
Más 1 kbps de la tasa de bits a utilizar del texto informativo que se pretende enviar.

\subsection{Análisis de Cobertura}

La red de telefonía celular funciona mediante celdas (véase la Figura \ref{fig:handover}), estas celdas tienen el objetivo de mantener conectados a los dispositivos en las diferentes áreas de cobertura y cada una de ellas contiene una estación base o antena. El handover o handoff es el proceso de transferir el servicio de una celda a otra, ya sea cuando se pierde la calidad en una de ellas o cuando el dispositivo se va trasladando.Este mecanismo tiene por objetivo el garantizar la correcta realización del servicio en las condiciones mencionadas anteriormente. 
Para el análisis de cobertura de la red LTE se tiene en cuenta el sistema handoff ya que el dispositivo se irá trasladando entre distintas celdas.

\begin{center}
  \includegraphics[scale=0.5]{imagenes/handover}
\captionof{figure}{Esquema handover entre dos celdas }
 \label{fig:handover}
\end{center}

La cobertura de LTE por Telcel es la más amplia del país, su mayor cobertura está concentrada en la Ciudad de México, por lo que tendremos una buena recepción, aunque en ocasiones debido a la saturación de la red o al transferir el servicio de la antena de una estación base a otra se puede encontrar alguna intermitencia o retraso, en estos casos el módulo va a pasar a modo de espera para enviar la información una vez se restablezca la red.

\begin{center}
  \includegraphics[scale=1.36]{imagenes/mapaLTE}
\captionof{figure}{Mapa de cobertura de la red LTE }
 \label{fig:mapaLTE}
\end{center}

En el mapa de cobertura la zona verde hace referencia a zonas con cobertura garantizada y la zona amarilla cobertura no garantizada, en caso de realizar pruebas en las zonas amarillas del mapa se va a notar un cambio en la velocidad del dispositivo móvil ya sea para la transferencia de archivos o la conectividad a la red, ocasionando un handoff fuerte; por el otro lado, al estar realizando pruebas en la zona verde del mapa su handoff será más suave.

\textbf{Alcances:}
\begin{itemize}
\item Envío de las coordenadas y mensaje informativo del posicionamiento del vehículo a la estación base.
\item Envío del fotograma y mensaje informativo del vehículo a la estación base.
\item Compresión a MP4 para la transmisión y almacenamiento del fotograma.
\item Recepción del status del envío de la información transmitida.
\end{itemize}

\textbf{Restricciones:}
\begin{itemize}
\item La velocidad de transmisión es de hasta 5Mbps.
\item El envío de las coordenadas en periodos de 10 segundos.
\item El envío de fotogramas a la estación base se mantiene limitado a 2 fps.
\item El envío de la cadena de texto se mantiene limitada a 100 bits.
\item El sistema de comunicación transmite la información solamente en zonas que cuenten con cobertura garantizada.
\end{itemize}
\newpage

Entre las diferentes tecnologías que existen para la geolocalización, nos inclinamos por la tecnología GPS que indica la posición geográfica de un objeto o individuo. Envía información precisa del posicionamiento en intervalos cortos de tiempo, una vez que los datos sean recibidos por un módulo GPS este es capaz de localizar su posición. Además, la utilización principal de este es precisamente vehicular, su sistema de geolocalización es de los más precisos con un margen de error de hasta 10 metros.

De igual manera,otra de las razones por la que elegimos la tecnología GPS es porque nos permite poder consultar la ubicación del vehículo en tiempo real, con esta tecnología es posible acceder a los datos de posicionamiento del vehículo a través del sistema Web, al usar el módulo con esta tecnología va a ser posible extraer los datos de una manera sencilla.

\begin{center}
  \includegraphics[scale=2]{imagenes/GPS_AntenaSixfab}
\captionof{figure}{Rastreador GPS con antena Sixfab 3G, 4G/LTE}
 \label{fig:GPS_AntenaSixfab}
\end{center}

Previamente se eligió una antena LTE que cuenta con un componente GPS integrado (Figura \ref{fig:GPS_AntenaSixfab}) del cual se obtendrán las coordenadas mediante su previa configuración en un puerto específico. Se optó por el uso del módulo GPS integrado en la antena LTE debido a la reducción de costos y practicidad de configuración por el módulo integrado.

\newpage
\section{Diseño del Módulo de Comunicaciones }
Para el diseño de este módulo se tiene contemplado ejecutar dos procesos asíncronos, es decir, que se ejecutan al mismo tiempo o de manera paralela.

\begin{center}
  \includegraphics[scale=0.6]{imagenes/DF-modCom}
\captionof{figure}{Diagrama de Flujo del Módulo de Comunicaciones}
 \label{fig:DF-modCom}
\end{center}

\begin{figure}
  \includegraphics[scale=0.65]{imagenes/DG-modCom}
\captionof{figure}{Diagrama de Flujo de Trabajo del Módulo de Comunicaciones}
 \label{fig:DG-modCom}
\end{figure}
\newpage



\newpage
\section{Búsqueda de Servidores de alojamiento}

Para el presente proyecto se requiere una capacidad de almacenamiento que nos permita el uso de archivos multimedia, concretamente archivos de video.

\begin{table}[H]
\centering
\begin{tabular}{|l|l|}
\hline
\textbf{Tipo de Multimedia} & \textbf{Ejemplos}             \\ \hline
Imágenes                    & JPEG, GIF, PNG, Archivos TIFF \\ \hline
Audio                       & MP3, WAV, ACC                 \\ \hline
Video                       & QuickTime, MP4, Youtube       \\ \hline
\end{tabular}
\caption{Tipos de Archivo Multimedia}
\end{table}

Si se requiere alojar una aplicación web cuyo contenido predominante sea multimedia, se deberá de tomar en cuenta los siguientes factores:


\begin{itemize}
\item  Ancho de banda

El ancho de banda y el almacenamiento son una función de su plan de alojamiento. Generalmente un plan de alojamiento en la nube  permite pagar por un uso menor durante las horas de menor actividad y explotar cuando recibe mucho tráfico. No se paga por ancho de banda o espacio de almacenamiento que en realidad no se utiliza.

\item Almacenamiento

Si se tiene una gran cantidad de archivos multimedia, entonces se requiere gran capacidad de almacenamiento. Lo ideal sería contar con almacenamiento ilimitado, pero esto significaría un aumento considerable al costo de alojamiento. Se debe de analizar un aproximado de almacenamiento necesario y en base a eso se deberá elegir el plan de almacenamiento que mejor cubra esas necesidades.

\item CDN (\emph{Content Delivery Network})

Lo último que debe considerar con el alojamiento de medios es una red de entrega de contenido o CDN. Una CDN intenta mejorar el rendimiento de la transmisión de medios mediante la ubicación de servidores que están geográficamente cerca del usuario mediante sofisticados algoritmos de ubicación y de ruteo.

\end{itemize}

Sabiendo lo anterior, se analizarán distintos proveedores de alojamiento con la intención de saber cuál de ellos se adapta mejor a nuestras necesidades.

\begin{itemize}
\item AWS Amplify Hosting
AWS Amplify Hosting es un servicio de alojamiento e Integración Continua/Entrega Continua completamente administrado para aplicaciones estáticas, rápidas, seguras, fiables, renderizadas del lado del servidor y que escalan a la par. Algunas de sus principales ventajas son:

\begin{itemize}
\item \textbf{Implementación de contenido web con rapidez}

AWS permite la implementación continua de una aplicación web estática o renderizada del lado del servidor, una página de inicio de la aplicación móvil o una aplicación progresiva en cada confirmación de código.


\item \textbf{CDN}

Cuenta con la red de entrega de contenido (CDN) de Amazon CloudFront con cientos de puntos de presencia en todo el mundo. Lo que permite un tiempo de respuesta de hasta menos de 10ms.

\item \textbf{Monitoreo}

AWS cuenta con un sistema de monitoreo de tráfico en tiempo real. También permite crear alarmas personalizadas para enviar notificaciones cuando la métrica haya superado el límite establecido. 

\item \textbf{Precio}

AWS cuenta con dos planes, uno gratuito y otro de paga, a continuación, se detallan las características de cada uno.

\begin{center}
  \includegraphics[scale=.5]{imagenes/amplify}
\captionof{figure}{Planes de Alojamiento AWS Amplify}
 \label{fig:DiagramadeactividadMEB}
\end{center}

\item \textbf{A2Hosting}

\begin{itemize}
\item \textbf{Alojamiento Compartido}

A2 Hosting cuenta con dos tipos de planes de alojamiento, el primero con costo de renovación que  va desde \$10.99 dls . Si se llegara a necesitar un servidor dedicado, el plan que nos ofrece está característica tiene un precio de  \$25.99 por mes.

\item \textbf{VPS}

VPS significa servidor privado virtual por sus siglas en inglés. Es una forma de dividir un servidor en (sub)servidores individuales más pequeños. Esto significa que se puede configurar de acuerdo a las necesidades del cliente y no tener que compartir recursos con otros clientes. Un VPS en A2 Hosting cuesta desde tan solo \$7.65 al mes hasta alrededor de \$200 dependiendo del número de subdivisiones necesarias.

\item \textbf{CDN}
A2 Hosting no ofrece servicio de CDN, sin embargo, cualquiera de sus planes ofrecen la posibilidad de contratar un servicio de CDN proveedores externos pagando un precio extra del precio base dependiendo del plan contratado.

\end{itemize}


\item \textbf{HosGator}
\begin{itemize}

\item \textbf{Tiempo de Respuesta}

De acuerdo con el sitio Bitcatcha, que se dedica a evaluar los tiempos de respuestas de los servidores de páginas web, HostGator poseé tiempos de respuestas mínimos para el territorio de Estados Unidos. A continuación se muestra los tiempos de respuesta de distintos territorios:


\begin{center}
  \includegraphics[scale=.5]{imagenes/respuesta}
\captionof{figure}{Planes de Alojamiento AWS Amplify}
 \label{fig:DiagramadeactividadMEB}
\end{center}

HostGator posee solo 2 datacenters, uno localizado en el área oeste, y otro en el este. Esto puede ocasionar que los tiempos de respuesta no sean los mejores en áreas que estén alejadas de las antes mencionadas


\item \textbf{Disponibilidad}
HosGator ofrece una disponibilidad del 99.9\%, esto quiere decir que los sitios que se decida alojar en los servidores de HostGator deberían ser accesibles la mayoría del tiempo.


\end{itemize}


\end{itemize}



\end{itemize}




\newpage
\section{Elección del Servidor de Alojamiento }

Después de haber analizado los distintos proveedores de alojamiento así como sus características, llegamos a la conclusión que el que mejor cumple con los requisitos del proyecto es AWS Amplify. Ya que este contiene una suite de herramientas que facilitan la implementación de una aplicación web, como por ejemplo S3, que es un servicio de alojamiento en la nube utilizado para archivos multimedia de gran tamaño. 

\begin{center}
  \includegraphics[scale=.5]{imagenes/amplify-1}
\captionof{figure}{Diagrama de Componentes AWS Amplify}
 \label{fig:DiagramadeactividadMEB}
\end{center}

Otro factor fundamental por el cual se decidió utilizar la suite de AWS Amplify, es que esta cuenta con su propia CDN, lo cual significa que los tiempos de respuesta al usar la aplicación web deben de ser mínimos.

\newpage
\section{Análisis del Módulo de Estación Base }

El módulo de la estación base tiene como objetivo que el usuario administrador, visualice y confirme el estado de los reportes de incidencia que se hayan presentado por parte del conductor, por tal motivo, se realizará una aplicación web, la cual se conectará a una base de datos NoSQL. En ella se guardarán los reportes de incidencias y se podrán visualizar por medio de la aplicación web. Cabe aclarar que el video de la incidencia se almacenará en la nube, ya que al ser contenido multimedia no se puede guardar en la base de datos, únicamente se guardará el URL para acceder al video. Las credenciales del usuario serán almacenadas en Amazon Cognito, con la cuales podrán iniciar sesión dentro de la Aplicación Web, la cual estará alojada en un servidor web.  El sistema contará con los siguientes requerimientos:   \\

\textbf{Requerimientos Funcionales del Módulo de Estación Base}

\begin{table}[h]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF01}}                                              & \emph{Guardar Incidencia}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}La base de datos almacenará la información de cada reporte de incidencia que se envié desde el Módulo Central de Procesamiento. \\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Id del Conductor \\
\quad $\bullet$ Nombre de Conductor\\
\quad $\bullet$ Apellidos de Conductor  \\
\quad $\bullet$ Número de Incidencias\\
\quad $\bullet$ Fecha\\
\quad $\bullet$ Hora\\
\quad $\bullet$ Estado de la Incidencia \\
\quad $\bullet$ Ubicación  \\
\quad $\bullet$ URL del video 
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El Módulo de Procesamiento Central puede insertar datos en la base datos.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF01- Guardar Incidencia }
\end{table}


\begin{table}[h]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF02}}                                              & \emph{Guardar Video }                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}La base de datos almacenará la información de cada reporte de incidencia que se envié desde el Módulo Central de Procesamiento. \\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Video de incidencia 
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El Módulo de Procesamiento Central puede insertar el video en el almacenamiento de objetos, mientras que la base de datos obtiene la URL del video guardado. \end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF02- Guardar Video }
\end{table}

\begin{table}[h]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF03}}                                              & \emph{Conectar Aplicación Web }                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}La base de datos almacenará la información de cada reporte de incidencia que se envié desde el Módulo Central de Procesamiento. \\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Node.js  \\
\quad $\bullet$ React   \\
\quad $\bullet$ Express   \\
\quad $\bullet$ MongoDB 

\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El usuario administrador puede realizar la inserción, modificación, eliminación y consulta de datos desde la aplicación web.  \end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF03- Conectar Aplicación Web }
\end{table}


\clearpage


\begin{table}[h]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF04}}                                              & \emph{Desplegar Aplicación Web  }                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}La aplicación web se alojará en una red de entrega de contenido (CDN), disponible con una URL.  \\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ AWS Amplify  \\
\quad $\bullet$ GitHub \\
\quad $\bullet$ Amazon S3 
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El usuario administrador puede acceder a la interfaz de la aplicación web, haciendo uso de la URL en el navegador web.  \end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF04- Desplegar Aplicación Web}
\end{table}



\begin{table}[h]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF05}}                                              & \emph{Guardar Credenciales de Usuario Administrador }                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}Se guardarán únicamente las credenciales de los usuarios administradores que podrán acceder a la aplicación web. \\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Amazon Cognito 
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El usuario administrador puede iniciar sesión en la aplicación web.  \end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF05- Guardar Credenciales de Usuario Administrador }
\end{table}

\textbf{Requerimientos No Funcionales del Módulo de Estación Base}
\clearpage


\begin{table}[]
\begin{tabular}{{|m{0.12\linewidth}|m{0.25\linewidth}|m{0.50\linewidth}|}}
\hline
\textbf{ID} & \textbf{Nombre del requerimiento} & \textbf{Descripción } \\ \hline
\emph{RNF01 } & Disponibilidad & La disponibilidad del sistema será continua, el usuario podrá acceder a la información las 24 horas del día.  \\ \hline
\emph{RNF02 } & Interoperabilidad  & El sistema será capaz de intercambiar información con el Módulo Central de Procesamiento a través del Módulo de Telemetría.  \\ \hline
\emph{RNF03 } & Seguridad  & Las credenciales de acceso al sistema podrán ser cambiadas únicamente por el administrador. \\ \hline
\emph{RNF04 } & Usabilidad  & El sistema estará enfocado a la visualización de reportes, por lo que el usuario le tomará menos de un día en familiarizarse con el sistema. El sistema proporcionará mensajes de advertencia orientados al usuario, en caso de ocurrir un error en el Módulo Central de Procesamiento. \\ \hline
\emph{RNF05 } & Interfaz del sistema  & La aplicación web presentará una interfaz de usuario sencilla que permitirá al usuario un fácil manejo del sistema. \\ \hline
\end{tabular}
\caption{Requerimientos No Funcionales del Módulo de Estación Base}
\end{table}



Con base en los requerimientos se realizó el siguiente diagrama de casos de uso, el cual muestra las actividades y la interacción con el Módulo de Estación base y el Módulo Central de Procesamiento. 

\begin{center}
  \includegraphics[scale=.55]{imagenes/CasosdeusosMEB}
\captionof{figure}{Diagrama de Casos de Usos del Módulo de Estación Base}
 \label{fig:CasosdeusosMEB}
\end{center}

\begin{center}
  \includegraphics[scale=.6]{imagenes/DiagramadeactividadMEB}
\captionof{figure}{Diagrama de Actividades del Módulo de Estación Base}
 \label{fig:DiagramadeactividadMEB}
\end{center}


El diagrama de actividades del Módulo de Estación Base muestra la secuencia de las actividades que se realizarán en dicho módulo, la primera actividad conectará la aplicación web hacia la Base de Datos, lo que permitirá insertar, modificar, leer y eliminar los datos del conductor. En el caso de los Reportes de Incidencias, podrán ser visualizadas, modificadas o eliminadas desde la aplicación web, ya que la inserción de estas se deberá realizar desde el Módulo Central de Procesamiento, este módulo se encargará de realizar el reporte y posteriormente enviarlo a la Base de Datos. La segunda actividad consiste en el alojamiento y despliegue de la aplicación web, la cual estará disponible usando la URL dentro del navegador web.   \\

Las credenciales del Usuario Administrador no se almacenarán en la Base de Datos, estas se guardarán en Amazon Cognito y serán utilizadas para iniciar sesión dentro de la aplicación. Como se mencionó anteriormente, el Módulo Central de Procesamiento realizará el Reporte de Incidencia, sin embargo, primero deberá guardar el video en la nube y posteriormente obtener la URL donde se almacenó el video, una vez recabados los datos necesarios para la incidencia el reporte será enviado y almacenado en la Base de Datos. 


\clearpage
\section{Diseño del Módulo de Estación Base}

Con base en los requerimientos, se plantea realizar el diseño de la arquitectura del Módulo de Estación Base, integrando el Módulo de Procesamiento Central. El cual hará énfasis en la organización y comunicación de los elementos que lo conforman.  \\

El siguiente diagrama muestra la arquitectura del sistema de Estación base, el cual se compone de las interacciones de los elementos que permitirán al usuario acceder e interactuar con la aplicación web. El diagrama también muestra la participación del Módulo de Procesamiento Central ya que el registro de incidencias y el envío del video de incidencia serán realizados por dicho módulo. La información de los reportes de incidencias y el registro de los conductores serán almacenados en Mongo DB, mientras que los videos de incidencia se almacenarán en Amazon S3. Las credenciales de los Usuarios Administradores que tendrán permitido acceder a la aplicación se almacenarán en Amazon Cognito. Para la aplicación web, el \emph{backend} será desarrollado en node.js mientras que el \emph{frontend} será desarrollado en React, posteriormente los archivos se almacenarán en un repositorio dentro de Github. La aplicación web será alojada y desplegada desde AWS Amplify, lo cual le permitirá al cliente acceder a la aplicación desde una URL.   

\begin{center} 
  \includegraphics[scale=.5]{imagenes/DisenoMEB} 
\captionof{figure}{Arquitectura del Módulo de Estación Base} 
\label{fig:DisenoMEB} 
\end{center} 

Los siguientes diagramas muestran las interacciones entre los elementos que se involucran en los requerimientos funcionales. \\

El Diagrama de comunicación para guardar video de incidencia requiere del Módulo Central de Procesamiento el cual se encargará de enviar el video para ser almacenado en Amazon S3 como un objeto, al cual se podrá acceder por medio de una URL prefirmada.

\begin{center}
  \includegraphics[scale=.8]{imagenes/DiagramaComunicacionRF2MEB}
\captionof{figure}{Diagrama de Comunicación para guardar video}
 \label{fig:DCGuardarVideo}
\end{center}

El Diagrama de comunicación para enviar incidencia requiere la interacción del Módulo Central de Procesamiento el cual se encargará de realizar y enviar el Reporte de Incidencia, posteriormente será almacenado en la Base de Datos (MongoDB).  

\begin{center}
  \includegraphics[scale=.8]{imagenes/DiagramaComunicacionRF1MEB}
\captionof{figure}{Diagrama de Comunicación para guardar incidencia}
 \label{fig:DCGuardarIncidencia}
\end{center}

El Diagrama de comunicación para conectar aplicación web requiere de la Base de Datos (MongoDB) y el \emph{backend} de la aplicación web, que se realizará con Node.js.

\begin{center} 
  \includegraphics[scale=.8]{imagenes/DiagramaComunicacionRF3MEB} 
\captionof{figure}{Diagrama de Comunicación para conectar aplicación web} 
\label{fig:DCConectarAppWeb} 
\end{center} 

El Diagrama de comunicación para desplegar aplicación web requiere del servidor que nos permitirá alojar la aplicación web y desplegarla, con objetivo de permitirle al usuario acceder a la aplicación web.  

\begin{center} 
  \includegraphics[scale=.8]{imagenes/DiagramaComunicacionRF4MEB} 
\captionof{figure}{Diagrama de Comunicación para desplegar aplicación web} 
\label{fig:DCDeplegarAppWeb} 
\end{center} 



\clearpage
\section{Busqueda de servidores de alojamiento}

Para el presente proyecto se requiere una capacidad de almacenamiento que nos permita el uso de archivos multimedia.
Primero, veremos los diferentes tipos de medios que puede hospedar y qué funciones de hospedaje necesita para admitir esos medios.



\begin{table}[h]
\centering
\begin{tabular}{|l|l|c}
\hline
Contenido Multimedia & Ejemplos                 \\ \hline
Imágenes             & JPEG, GIF, archivos TIFF \\ \hline
Audio                & MP3, WAV, AAC            \\ \hline
Video                & MP4, Youtube, QuickTime  \\ \hline
\end{tabular}
\caption{\label{tab:interfaces} Tipos de Contenido Multimedia}
\end{table}

El alojamiento de multimedia sugiere que el propietario de un sitio almacene y entregue una gran cantidad de imágenes, archivos de audio o videos, y los proporcione a como su contenido principal, a diferencia de los sitios que solo necesitan unos pocos recursos de medios para complementar principalmente los basados en texto. A continuación se describen los puntos más importantes a considerar si se decide a tener un alojamiento basado en multimedia:

\begin{itemize}
\item \textbf{Ancho de banda}

Un plan de alojamiento en la nube le permite pagar por un uso menor durante las horas de menor actividad y explotar cuando recibe mucho tráfico. En pocas palabras, pagas por lo que utilizas.La flexibilidad de la computación en la nube ha llevado incluso a Netflix a abandonar la mayoría de sus centros de datos en favor del alojamiento en la nube de Amazon.

\item \textbf{Almacenamiento}

Si se tiene una gran cantidad de archivos multimedia, entonces se requiere gran capacidad de almacenamiento. Lo ideal sería contar con almacenamiento ilimitado, pero esto no sería costeable. Se debe de analizar un aproximado de almacenamiento necesario y en base a eso se deberá elegir el plan de almacenamiento que mejor cubra esas necesidades.

\item \textbf{CDN (\emph{Content Delivery Network})}

Lo último que debe considerar con el alojamiento de medios es una red de entrega de contenido o CDN. Una CDN intenta mejorar el rendimiento de la transmisión de medios mediante la ubicación de servidores que están geográficamente cerca del usuario mediante sofisticados algoritmos de ubicación.


 
\end{itemize}
Conociendo lo anterior, se analizarán distintos proveedores de alojamiento con la intención de saber cual de ellos se adapta mejor a nuestras necesidades.

\begin{itemize}
\item \textbf{AWS \textbf{Amplify Hosting}}

AWS Amplify Hosting es un servicio de alojamiento y CI/CD \emph{Continous Integration/Continuos Delivery} completamente auto administrado para aplicaciones estáticas, rápidas, seguras, fiables, renderizadas del lado del servidor y que escalan con su empresa. Es compatible con marcos web modernos como React, Angular, Vue, Next.js, Gatsby, Hugo, Jekyll, entre otros. Algunas de sus principalmente ventajas son:
\begin{itemize}
\item \textbf{Implementación de contenido web con rapidez}

AWS permite la implementación continua de una aplicación web estática o renderizada del lado del servidor, una página de inicio de la aplicación móvil o una aplicación progresiva en cada confirmación de código.
\item \textbf{Alojamiento confiable cerca de los usuarios}

AWS Amplify Hosting cuenta con la red de entrega de contenido (CDN) de Amazon CloudFront, con cientos de puntos de presencia en todo el mundo.

\item \textbf{Mayor Velocidad de Producción}

Cuenta con una alta velocidad del ciclo de lanzamiento de su aplicación con flujos de trabajo de CI/CD integrados, versiones preliminares de solicitudes de extracción y pruebas.7

\item \textbf{Monitoreo}

AWS cuenta con un sistema de monitoreo de tráfico en tiempo real. También permite crear alarmas personalizadas para enviar notificaciones cuando la métrica haya superado el límite establecido. 

\item \textbf{Precio}

AWS cuenta con dos planes, uno gratuito y otro de paga, a continuación se detallan las características de cada uno.

\begin{center}
  \includegraphics[scale=.5]{imagenes/amplify}
\captionof{figure}{Tipos de Planes de AWS Amplify}
 \label{fig:scaraindust}
\end{center}

\end{itemize}


\item \textbf{A2Hosting}

Además de los planes de alojamiento, en A2 Hosting también puede obtener nombres de dominio y sus precios son justos. Por ejemplo, un nombre de dominio .com le costará \$14.95 por año. Entre otras extensiones, puedes adquirir: dominios .com, .info, .net y .org. Los TLD específicos de países como .co.uk, .de, .fr, .es o .aún no están disponibles. Algunas de sus características se listan a continuación:

\begin{itemize}
\item \textbf{Alojamiento Compartido}

A2Hosting es muy popular por sus planes de alojamiento compartido. Su costo de renovación va desde \$10.99 a \$25.99 por mes. Es el que necesitarán la mayoría de los proyectos, a menos que tenga un sitio con mucho tráfico o necesite una configuración de servidor especial.

\item \textbf{VPS}

VPS significa servidor privado virtual. Es una forma de dividir un servidor en (sub)servidores individuales más pequeños. Esto significa que se puede configurar de acuerdo a las necesidades del cliente y no tener que compartir recursos con otros clientes. Un VPS en A2 Hosting cuesta desde tan solo \$7.65 al mes hasta alrededor de \$200.

\item \textbf{CDN}

A2 Hosting no ofrece servicio de CDN, sin embargo sus planes ofrecen la posibilidad de contratar un servicio de CDN proveedores externos pagando un precio extra del precio base dependiendo del plan contratado.


\end{itemize}

\item \textbf{HostGator}
\begin{itemize}
\item \textbf{Tiempo de Respuesta}

HostGator posee tiempos de respuesta mínimos para el territorio de EEUU. No tanto así para el resto del mundo. Esto debido a que solo poseen dos centros de datos, uno el área este de EEUU y otro en el área oeste. A continuación se muestra una comparación de los tiempos de respuesta de distintos territorios del mundo. Esta información es obtenida de la página de Bitcatcha, que se encarga de comparar los tiempos de respuesta de distintas páginas web desde distintos lugares del mundo.

\begin{center}
  \includegraphics[scale=.8]{imagenes/hostgator}
\captionof{figure}{Tiempos de Respuesta }
 \label{fig:scaraindust}
\end{center}
 
\item \textbf{Disponibilidad}

HostGator ofrece una disponibilidad del 99.9\%, esto quiere decir que los sitios que usen su servicio de alojamiento, rara vez tendrán problemas de disponibilidad.

\item \textbf{Precios}

HostGator cuenta con dos tipos de planes, uno gratuito y uno de paga. El plan gratuito ofrece hasta 2 GB de almacenamiento gratis. Sin embargo, el tipo de hosting es uno compartido, lo cual puede ocasionar lentitud en el tiempo de respuesta del sitio web. El plan de paga ofrece hasta 100 GB de almacenamiento y hosting individual, el precio de este plan es de 11.59 dls mensuales

\item \textbf{CDN}

HostGator no cuenta con ningún tipo de CDN, si se requiere una CDN se tendría que contratar de manera externa sólo con el plan de paga.


\end{itemize}
\newpage

\item \textbf{BlueHost}

Bluehost se destaca con sus opciones de alojamiento compartido y VPS, que son ideales para individuos, pequeñas empresas, blogueros y otros que necesitan un sitio web confiable. El hecho de que Bluehost haga que sea tan fácil crear y administrar un sitio también hace que su servicio sea excelente para aquellos que son nuevos en la ejecución de sitios web.

\begin{itemize}

\item \textbf{Precios}
Bluehost tiene alojamiento para todo tipo de sitios web, lo que significa que tiene opciones a muchos precios diferentes. Puede comenzar con una cuenta básica de alojamiento compartido, que comienza en \$2.95 por mes. Si se necesita un servidor dedicado, los precios rondan desde \$119.99 por mes por la opción de gama alta. 

\item \textbf{Servidores de Alto Rendimiento}

Con los servidores de alto rendimiento, Bluehost asigna menos usuarios por servidor y cada usuario recibe un recuento de archivos de 300 000; esto significa más recursos informáticos por usuario, velocidades de carga constantes del sitio y menos tiempo de inactividad causado por usuarios deshonestos.
Sin embargo sus servidores de alto rendimiento solo están disponibles con su plan Pro, que es mucho más caro que el resto de sus planes de alojamiento web compartido.

\item \textbf{CDN}

Desafortunadamente, el servicio de hosting de BlueHost no cuenta con ninguna CDN, lo que puede significar una pérdida del tiempo de respuesta en cuanto al manejo de contenido multimedia.



\end{itemize}


\end{itemize}

\newpage
\section{Análisis de la aplicación Web}



\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF01}}                                              & \emph{Iniciar Sesión}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{@{}l@{}}\textbf{Descripción:}  El sistema permitirá iniciar sesión en la aplicación web\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Amazon Cognito\\
\quad $\bullet$ Administrador\\
\quad $\bullet$ Credenciales\\
\quad $\bullet$ MongoDB
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El sistema, con la ayuda de los servicios de Amazon Cognito, comprobará que las credenciales ingresadas por parte del usuario administrador se encuentren en la base de datos. En caso contrario, la aplicación web indicará que ese usuario no se encuentra registrado en la base de datos.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF01- Iniciar Sesión}
\end{table}



\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF02}}                                              & \emph{Mostrar el Historial de Reportes de Incidencia}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}  El sistema desplegará en forma de lista todas las incidencias que se tengan registradas en la base de datos\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Conductor\\
\quad $\bullet$ Incidencias\\
\quad $\bullet$ Administrador\\
\quad $\bullet$ MongoDB
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El sistema recuperará de la base de datos todas las incidencias que se tengan registradas.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF02- Mostrar el Historial de Reportes de Incidencia}
\end{table}



\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF03}}                                              & \emph{Visualizar Reporte de Incidencia}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}  El sistema desplegará los detalles específicos de cada incidencia registrada.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Incidencia\\
\quad $\bullet$ Administrador\\
\quad $\bullet$ Conductor
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El usuario administrador podrá visualizar los reportes individuales de incidencias de cada conductor al hacer click en cualquiera de las incidencias mostrada en la lista principal. Los reportes contendrán información sobre la fecha, hora, ubicación y un video corto del momento en que fueron detectados síntomas de somnolencia.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF02- Mostrar el Historial de Reportes de Incidencia}
\end{table}


\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF03}}                                              & \emph{Visualizar Reporte de Incidencia}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}  El sistema desplegará los detalles específicos de cada incidencia registrada.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Incidencia\\
\quad $\bullet$ Administrador\\
\quad $\bullet$ Conductor
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El usuario administrador podrá visualizar los reportes individuales de incidencias de cada conductor al hacer click en cualquiera de las incidencias mostrada en la lista principal. Los reportes contendrán información sobre la fecha, hora, ubicación y un video corto del momento en que fueron detectados síntomas de somnolencia.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF03- Visualizar Reporte de Incidencia}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF04}}                                              & \emph{Confirmar Incidencia}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}  El sistema permitirá al administrador confirmar la incidencia, esto para descartar que se trate de un falso positivo.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Administrador\\
\quad $\bullet$ Incidencia\\
\quad $\bullet$ Conductor\\
\quad $\bullet$ MongoDB
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El usuario administrador podrá confirmar la incidencia después de haber revisado el videoclip del momento de somnolencia con la intención de descartar falsos positivos. Esto será posible ingresando a una incidencia específica mostrando sus detalles.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF04- Confirmar Incidencia}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF05}}                                              & \emph{Recuperar Contraseña}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema contará con una opción para recuperar la contraseña del administrador en caso de que sea olvidada la contraseña.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Amazon Cognito\\
\quad $\bullet$ Email\\
\quad $\bullet$ Administrador\\
\quad $\bullet$ MongoDB
\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El sistema requerirá que el usuario administrador ingrese el correo con el que fue registrado. Posteriormente se le enviará un código de recuperación de contraseña a ese correo. El administrador ingresará se código en el apartado de recuperar contraseña y así podrá ingresar una nueva contraseña.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF05 - Recuperar Contraseña}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF06}}                                              & \emph{Mostrar Perfil Conductor}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema permitirá al usuario administrador visualizar los datos de cada conductor registrado en la base de datos.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Perfil\\
\quad $\bullet$ Conductor\\

\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El administrador podrá consultar cada uno de los perfiles de los conductores registrados en la base de datos dando click en el nombre del mismo. En dicho perfil se mostrarán datos como nombre, apellido, así como el número de incidencias de dicho conductor, con sus respectivos detalles.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF06- Mostrar perfil del Conductor}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF07}}                                              & \emph{Mostrar Ubicación Geográfica}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}La aplicación web, con ayuda de los datos proporcionados por el módulo de telemetría, mostrará la ubicación en tiempo real de un conductor.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Ubicación en Tiempo Real\\
\quad $\bullet$ Módulo de Telemetría\\

\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El sistema permitirá al administrador consultar la ubicación de los conductores en tiempo real. Para esto el administrador deberá de ingresar previamente al perfil del conductor del cual desea consultar dicha ubicación.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF07- Mostrar ubicación Geográfica}
\end{table}



\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF08}}                                              & \emph{Descartar Incidencia}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema permitirá catalogar una incidencia como Falsa si fuera el caso.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Incidencia\\
\quad $\bullet$ Administrador\\

\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
En caso de presentarse una incidencia falsa, después de haber sido revisada por el administrador, esta podrá ser catalogada como falsa incidencia y será eliminada automáticamente de la base de datos.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF08- Descartar Incidencia}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF09}}                                              & \emph{Registrar Usuario}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema le permitirá al administrador registrar nuevos conductores.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Incidencia\\
\quad $\bullet$ Administrador\\

\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
En caso de presentarse una incidencia falsa, después de haber sido revisada por el administrador, esta podrá ser catalogada como falsa incidencia y será eliminada automáticamente de la base de datos.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF09- Registrar Usuario}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF10}}                                              & \emph{Modificar Usuario}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema le permitirá al administrador modificar los datos del conductor.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Nombre\\
\quad $\bullet$ Apellido\\
\quad $\bullet$ Conductor\\
\quad $\bullet$ Administrador

\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El administrador podrá editar los datos de los conductores como nombre o apellido.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF10- Mostrar el Historial de Reportes de Incidencia}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF11}}                                              & \emph{Elimininar Usuario}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema le permitirá al administrador eliminar los datos del conductor.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Conductor\\
\quad $\bullet$ Administrador


\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El sistema le permitirá al eliminar los datos de conductores de la base de datos.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF11- Mostrar el Historial de Reportes de Incidencia}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|ll|}
\hline
\multicolumn{1}{|l|}{\textbf{ID}}                                                & \textbf{Nombre corto del Requerimiento}                                             \\ \hline
\multicolumn{1}{|l|}{\emph{RF12}}                                              & \emph{Generar Mensaje de Alerta}                                                             \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Descripción:}El sistema alertará con un mensaje en caso de que algún componente en alguna Unidad Contenedora no funcione correctamente.\\ \\ \textbf{Elementos:}
\\
\quad $\bullet$ Módulo Central de Procesamiento\\
\quad $\bullet$ Administrador\\
\quad $\bullet$ Alerta


\end{tabular}} \\ \hline
\multicolumn{2}{|l|}{\begin{tabular}[c]{p{0.7\linewidth}@{}l@{}}\textbf{Solución del Requerimiento:}\\
El sistema enviará un mensaje de alerta al administrador indicando que Unidad presenta algún desperfecto, esto con la intención de sea reparada posteriormente.\end{tabular}}                                                    \\ \hline
\end{tabular}
\caption{RF12- Generar Mensaje de Alerta}
\end{table}




\begin{center}
  \includegraphics[scale=.6]{imagenes/casosdeusoweb}
\captionof{figure}{Diagrama de Casos de Uso }
 \label{fig:scaraindust}
\end{center}

El Diagrama de Casos de Uso de la aplicación web muestra desde la perspectiva del Usuario Administrador las actividades que se podrán realizar. El usuario Administrador podrá iniciar sesión ingresando en la interfaz principal de la aplicación, posteriormente podrá registrar a los usuarios (conductores), cada conductor será registrado con un id, nombre y apellidos.  Este registro podrá ser eliminado o modificado por el usuario administrador. Así mismo una de las tareas asignadas para este usuario administrador es la confirmación de la incidencia, el cual tiene como objetivo verificar y valorar que la incidencia haya sido correctamente catalogada por el sistema de detección de somnolencia.   Debido a que el sistema puede presentar resultados falsos positivos que afecten al resultado. El usuario podrá visualizar los datos completos de la incidencia, incluyendo el id del conductor, el nombre y apellidos, el estatus de la incidencia, fecha, hora, ubicación y la url del video de la incidencia.  En caso de que el usuario no pueda ingresar al sistema debido a la contraseña, el usuario podrá recuperala ingresando al correo electrónico registrado. La aplicación web le permitirá al Usuario Administrador monitorear al conductor con la ubicación en tiempo real del conductor el cual desplegará un mapa con su posicionamiento actual. 



\begin{center}
  \includegraphics[scale=.6]{imagenes/diagramaclasesaw}
\captionof{figure}{Diagrama de Clases }
 \label{fig:scaraindust}
\end{center}

El diagrama de clases muestra las clases, atributos, métodos y relaciones que tendrá cada una de las vistas del usuario. Como se puede observar, solamente el usuario Administrador podrá utilizar el sistema web. Mientras que el conductor no tendrá ninguna injerencia sobre esta última.

\newpage

\textbf{Requerimientos no Funcionales}

A continuación se mencionan los requerimientos no funcionales de la aplicación web.

\begin{table}[H]
\begin{tabular}{|l|l|l}
\cline{1-2}
\textbf{Requerimiento No Funcional} & \textbf{Descripción}                                                                                                                                                                   &  \\ \cline{1-2}
Disponibilidad                      & \begin{tabular}[c]{@{}l@{}}La aplicación web deberá estar \\ disponible las 24 horas del día\end{tabular}                                                                              &  \\ \cline{1-2}
Interoperabilidad                   & \begin{tabular}[c]{@{}l@{}}La aplicación deberá ser accesible desde \\ cualquier sistema operativo \\ mientras se cuenta con un \\ navegador web en su versión más actual\end{tabular} &  \\ \cline{1-2}
Eficiencia                          & \begin{tabular}[c]{@{}l@{}}La aplicación tendrá tiempos de respuesta\\ menores a 100ms.\end{tabular}                                                                                   &  \\ \cline{1-2}
Escalabilidad                       & \begin{tabular}[c]{@{}l@{}}La aplicación web deberá ofrecer la oportunidad de \\ agregar nuevas funcionalidades y \\ soportar un mayor número de usuarios a \\ futuro\end{tabular}     &  \\ \cline{1-2}
Estabilidad                         & \begin{tabular}[c]{@{}l@{}}La aplicación deberá ofrecer un buen \\ funcionamiento mientras se tenga \\ una buena conexión a internet\end{tabular}                                      &  \\ \cline{1-2}
\end{tabular}
\caption{Requerimientos no funcionales - Aplicación Web}
\end{table}


\clearpage
\section{Búsqueda de Lenguajes de Programación Web}
Con respecto al desarrollo web, hay distintos parámetros en los que basarnos para poder elegir un lenguaje o lenguajes de programación. El primero, es que tipo de aplicación web se va a desarrollar. El segundo, es el tipo de contenido que tendrá nuestra página web.


\begin{itemize}

\item \textbf{Javascript}

JavaScript (JS) es un lenguaje de programación ligero, interpretado, o compilado justo-a-tiempo (just-in-time) con funciones de primera clase. Si bien es más conocido como un lenguaje de scripting (secuencias de comandos) para páginas web, también es un lenguaje de programación basada en prototipos, multiparadigma, de un solo hilo, dinámico, con soporte para programación orientada a objetos, imperativa y declarativa

A continuación se describen sus características más importantes:

\begin{itemize}
\item \textbf{Veloz}

Como lenguaje de programación interpretado, no tiene que compilarse cada vez que se ejecuta, lo que hace que el desarrollo y la depuración sean más rápidos para comenzar. Además, JavaScript encuentra más velocidad al ejecutarse como un script del lado del cliente, ejecutándose en el navegador sin conectarse al servidor y ahorrando recursos valiosos para cada usuario adicional.

\item \textbf{Procesamiento asíncrono}

El procesamiento asíncrono es una de las características más útiles del lenguaje JavaScript. Usando JavaScript, un bloque del script no podrá detenerse o dejar que el otro bloque de código espere a que comience la respuesta. Si se está procesando una solicitud, otras también trabajarán en paralelo con la solicitud anterior en lugar de esperar la respuesta de la solicitud anterior. Ahorra mucho tiempo al ejecutar scripts en paralelo.

\item \textbf{Poca carga de Procesamiento del servidor}

JavaScript permite realizar funcionalidades básicas en el lado del cliente. Esto significa que el servidor no tendrá que procesar las funcionalidades básicas que mejoran el rendimiento del servidor.

\end{itemize}

\item \textbf{PHP}

PHP es otro lenguaje de programación del lado del servidor conocido que se lanzó oficialmente en 1997. Este lenguaje de fondo está arraigado en HTML y normalmente se usa para el seguimiento de sesiones, el diseño de sitios de comercio electrónico y la administración de bases de datos y contenido dinámico.

\begin{itemize}

\item \textbf{Simplicidad}

PHP es uno de los lenguajes de programación backend más simples. La sencillez de esta programación lo ha convertido en uno de los lenguajes más utilizados, especialmente para el desarrollo web.

\item \textbf{Independencia de Plataforma}
PHP es un lenguaje independiente de la plataforma. Esto significa que puede funcionar para todos los sistemas operativos y plataformas.

\item \textbf{Tipado débil}

En el lenguaje de programación PHP, no se necesita mencionar el tipo de datos de una variable antes de asignar el valor. El tipo de datos de la variable se basará en los datos almacenados en ella durante la ejecución.

\item \textbf{Flexibilidad}

PHP es un lenguaje flexible, y se puede usar muy fácil y efectivamente con HTML, XML y JavaScript. Este lenguaje se puede incrustar e integrar fácilmente con estos lenguajes de secuencias de comandos para crear una aplicación.


\end{itemize}
\item \textbf{Python}

El desarrollo web en Python no siempre es la elección principal para construir el lado del servidor de los sitios web. Este lenguaje es multipropósito, lo que significa que es utilizable en la mayoría de los campos de programación.
Sin embargo, Python para el desarrollo web es también una sólida opción, atrayendo a la gente con su sintaxis simple, una variedad de marcos de trabajo, y un fuerte ecosistema general. Instagram, una de las redes sociales dominantes, utiliza Python para su plataforma, recibiendo millones de visitantes al día. A continuación se describen sus ventajas más importantes:



\begin{itemize}

\item \textbf{Lenguaje Orientado a Objetos}
Python es compatible con el paradigma de programación de la programación orientada a objetos.Esto significa que puede definir clases y objetos para escribir código estructurado para su programa o aplicaciones. Ayuda a comprender mejor el código y también a limpiar el código. El código  puede ser reutilizado fácilmente usando los conceptos de programación orientada a objetos. Este permite reducir las líneas de código.

\item \textbf{Librerías}

Python ofrece una amplia gama de bibliotecas, que incluyen diferentes tipos de funcionalidades. Por ejemplo, OpenCV es una biblioteca de Python para Computer Visions y Selenium se usa ampliamente para la automatización web y \emph{web scraping}.

\end{itemize}

\end{itemize}

\newpage
\section{Elección del lenguaje de programación para la aplicación web}

Después de haber analizado distintos lenguajes de programación, así como sus ventajas y desventajas. Hemos decidido utilizar primordialmente el lenguaje Javascript, ya que este cuenta con las herramientas y/o frameworks que mejor se adaptan a las necesidades de nuestro proyecto.
Debido a esto, se decidió utilizar el NodeJs para el sistema backend de nuestra aplicación.

Node.js, es un entorno en tiempo de ejecución multiplataforma para la capa del basado en JavaScript. Este es controlado por eventos diseñado para crear aplicaciones escalables, permitiendo establecer y gestionar múltiples conexiones al mismo tiempo. Gracias a esta característica, el bloqueo de procesos no existe. NodeJs trabaja bajo dos conceptos:

\begin{itemize}
\item \textbf{Asincronía}
En el momento en que obtengamos la respuesta del otro servidor o base de datos, ejecutará una función de devolución de llamada. Las funciones de devolución de llamada se llaman tan pronto como finaliza algún trabajo y esto se debe a que node.js utiliza una arquitectura basada en eventos. El subproceso único no funciona con la solicitud, sino que envía la solicitud a otro sistema que resuelve la solicitud y es accesible para otra solicitud.

\item \textbf{Entrada/Salida sin bloqueo}
Significa trabajar con múltiples solicitudes sin bloquear el hilo para una sola solicitud. E/S básicamente interactúa con sistemas externos como archivos, bases de datos.
\end{itemize}

NodeJs nos permitirá manejar distintas peticiones sin que se tenga que esperar a que una petición sea respondida para continuar con la siguiente petición. De ahí la elección de este entorno de Javascript para el desarrollo de la aplicación web.

\newpage
\section{Diseño de la aplicación web}

A continuación se muestran diversos diagramas de secuencias que describen los procesos de los requerimientos definidos en la sección de Análisis.


\begin{center}
  \includegraphics[scale=.6]{imagenes/sec_reporte_incidencia}
\captionof{figure}{Diagrama de Secuencia Detalle Reporte Incidencia }
 \label{fig:scaraindust}
\end{center}

El Administrador podrá consultar el reporte de incidencia de cada uno de los conductores. Accediendo a la base de de datos de MongoDB
 

\begin{center}
  \includegraphics[scale=.7]{imagenes/sec_ubicacion}
\captionof{figure}{Diagrama de Secuencia Consultar Ubicación}
 \label{fig:scaraindust}
\end{center}

De igual manera, el Administrador podrá consultar la ubicación en tiempo real del conductor.
 
\begin{center}
  \includegraphics[scale=.6]{imagenes/sec_rcontrasena}
\captionof{figure}{Diagrama de Secuencia Recuperar Contraseña }
 \label{fig:scaraindust}
\end{center}

También podrá recuperar su contraseña en caso de que esta sea olvidada.

\begin{center}
  \includegraphics[scale=.6]{imagenes/sec_confirmar}
\captionof{figure}{Diagrama de Secuencia Confirmar Incidencia}
 \label{fig:scaraindust}
\end{center}

Para evitar falsos positivos, el Administrador podrá confirmar una incidencia una vez mirando el videoclip del incidente.

\begin{center}
  \includegraphics[scale=.6]{imagenes/sec_perfil}
\captionof{figure}{Diagrama de Secuencia Consultar Perfil}
 \label{fig:scaraindust}
\end{center}
El Administrador podrá consultar el perfil de cada conductor. 

\begin{center}
  \includegraphics[scale=.6]{imagenes/sec_registrar}
\captionof{figure}{Diagrama de Secuencia Registrar Conductor }
 \label{fig:scaraindust}
\end{center}

\begin{center}
  \includegraphics[scale=.6]{imagenes/sec_modificar}
\captionof{figure}{Diagrama de Secuencia Modificar Conductor}
 \label{fig:scaraindust}
\end{center}

En caso de que los datos del conductor sean incorrectos, el administrador podrá modificarlos.

\begin{center}
  \includegraphics[scale=.6]{imagenes/sec_eliminar}
\captionof{figure}{Diagrama de Secuencia Eliminar Conductor }
 \label{fig:scaraindust}
\end{center}

El Administrador también tendrá la opción de dar de baja a un conductor.

\begin{center}
  \includegraphics[scale=.6]{imagenes/sec_estado}
\captionof{figure}{Diagrama de Secuencia Estado de los Periféricos }
 \label{fig:scaraindust}
\end{center}

La aplicación web indicará si alguno de los periféricos no se encuentra en correcto funcionamiento, lanzando una alerta indicando el número de Unidad y a qué conductor pertenece.


A continuación se muestra el diseño propuesto de cada una de las vistas que tendrá la aplicación web.

\begin{center}
  \includegraphics[scale=.3]{imagenes/login}
\captionof{figure}{Página Inicio de Sesión }
 \label{fig:scaraindust}
\end{center}
 
\begin{center}
  \includegraphics[scale=.3]{imagenes/homescreen}
\captionof{figure}{Página Principal}
 \label{fig:scaraindust}
\end{center}

\begin{center}
  \includegraphics[scale=.3]{imagenes/profile}
\captionof{figure}{Página Perfil del Conductor }
 \label{fig:scaraindust}
\end{center}

\begin{center}
  \includegraphics[scale=.3]{imagenes/incident}
\captionof{figure}{Página Detalle de Incidencia }
 \label{fig:scaraindust}
\end{center}

\begin{center}
  \includegraphics[scale=.3]{imagenes/location}
\captionof{figure}{Página Ubicación en Tiempo Real }
 \label{fig:scaraindust}
\end{center}
 
 



\newpage
\section{Cotización de materiales}



\begin{table}[H]
\centering
\begin{tabular}{|l|l|}
\hline
\textbf{Material}                   & \textbf{Costo}  \\ \hline
Raspberry Pi 4 Modelo B 8GB & \$3200 \\ \hline
Zumbador Pasivo KY-006     & \$130  \\ \hline
Cámara Privariety IMX230   & \$1200 \\ \hline
Cable Macho-Hembra         & \$80   \\ \hline
MicroSD SanDisk 128GB      & \$270  \\ \hline
Raspberry SixFab Modem Kit  & \$2500 \\ \hline
\textbf{Total}  & \$\textbf{7380} \\ \hline
\end{tabular}
\caption{Cotización de Materiales}
\end{table}

Cabe aclarar, que este desglose es en pesos mexicanos y con base a precios del año en curso. Se toma en consideración un posible aumento de precio debido a factores como la inflación.



\newpage
\section{Conclusiones}
Para el desarrollo de la Estación base, se decidió utilizar la suite de herramientas de Amazon Amplify. Se hará uso de Amplify Hosting, el cuál tiene una integración directa con Github, esto quiere decir, que los cambios que se realicen en el repositorio se reflejarán de manera automática en la aplicación web. Además, AWS Amplify ofrece su servicio de almacenamiento en la nube S3, este será de gran ayuda para almacenar contenido multimedia, en este caso los videos de incidencia de los conductores. Para el manejo de credenciales, se utilizará Amazon Cognito, que se encargará de administrar las credenciales de acceso a la aplicación. Para el manejo de datos, se estará utilizando MongoDB, un manejador NoSQL que trabaja con documentos.  Para el desarrollo de la aplicación, se decidió utilizar el lenguaje de programación Javascript, junto con NodeJs que nos ayudará a manejar varias peticiones al mismo tiempo. 
Finalmente el análisis del sistema de comunicaciones,en un principio sólo se había contemplado el análisis de telemetría pero al ir realizando las actividades del tercer reporte e ir profundizando en algunos temas de comunicaciones, se decidió que también que se necesitaba el análisis de la cobertura y de los datos, es decir,de la transmisión de los fotogramas por lo que se incluyeron también en este reporte.

\newpage
\section{Bibliografia}
%\bibliographystyle{apacite}

\begin{thebibliography}{10} %10 significa el número máximo de items
%Aquí ponga la bibliografía y referencias usadas

%Artículo:


\bibitem{Referencia1} Irv Kalb, \emph{Object-Oriented Python}, Primera Edición ,No Starch-Press, 2021
%Libro
\bibitem{Referencia2}
V.Moret Bonillo, \emph{Fundamentos de Inteligencia Artificial}, Segunda Edición,Santiago de Compostela: Universidad de La Coruña Servicio de Publicaciones, 2005.

\bibitem{Referencia3} Ian Sommerville, \emph{Ingeniería de Software}, Novena Edición , Pearson Eduación de México, 2011

\bibitem{Referencia4} Kenneth E. Kendall, Julie E. Kendall, \emph{Análisis y Diseño de Sistemas}, Octava Edición , Pearson Educación de México, 2011


\bibitem{Referencia7} Kurt Demaagd, Anthony Oliver, Nathan Oostendorp y Katherine Scott \emph{Practical Computer Vision with OpenCV}, Tercera Edición, O'Reilly, 2017

\bibitem{Referncia8}Cuno Plister, \emph{Getting Started with Internet of Things},Primera Edición, O'Reilly, 2011

\bibitem{Referencia9} Vilca Espinoza, R.A, \emph{Influencia de un sistema de geolocalización en el control y monitoreo de vehículos con dispositivos GPS en una empresa logística}, 2007



\bibitem{Referencia10} R. Marín. "Los gestores de bases de datos más usados en la actualidad". www.inesem.es. https://www.inesem.es/revistadigital/informatica-y-tics/los-gestores-de-bases-de-datos-mas-usados/ (accedido el 6 de noviembre de 2022). 

\bibitem{Referencia11}  bigdata-analytics. "Qué es SQL, sintaxis, conceptos básicos y características". https://bigdata-analytics.es/sql/ (accedido el 6 de noviembre de 2022). 

\bibitem{Referencia12}  CursosGratis. "Ventajas y desventajas de la base de datos relacional". https://aprendiendoaprogramar.es/blog/ventajas-y-desventajas-de-la-base-de-datos-relacional/ (accedido el 6 de noviembre de 2022). 

\bibitem{Referencia13}  Unir. "Bases de Datos NoSQL: Qué son y cuáles son sus ventajas". mexico.unir.net. https://mexico.unir.net/ingenieria/noticias/bases-de-datos-nosql/

\bibitem{Referencia14}  G. Cutipa. "Las 5 principales ventajas y desventajas de bases de datos relacionales y no relacionales: NoSQL vs SQL". https://guidocutipa.blog.bo/principales-ventajas-desventajas-bases-de-datos-relacionales-no-relacionales-nosql-vs-sql/ (accedido el 6 de noviembre de 2022). 

\bibitem{Referencia15}  Roch Moraguez, E. (s. f.). Comparación entre las principales bases de datos nosql más populares. https://lovtechnology.com/comparacion-entre-principales-bases-de-datos-nosql-mas-populares/ 

\bibitem{Referencia16} MongoDB. (s. f.). What is MongoDB? https://www.mongodb.com/docs/manual/

\bibitem {NodeJs} Jonathan Wexler, \emph{Get Programming with Node.js}, Manning, 2019

\bibitem {js} Marjin Haverbeke \emph{Eloquent Javascript}, Third Edition, No Starch Press, 2020

\bibitem {AWS} Amazon, \emph{Amazon Amplify}, https://aws.amazon.com/es/amplify/

\bibitem {hosting} Matt Ahlgren, \emph{Revisión de alojamiento A2}, https://www.websiterating.com/es/web-hosting/a2-hosting-review/

\bibitem {bluehost} Tony Leong, \emph{Bluehost Review: 7 Pros \& 4 Cons of Bluehost (Server Speed Tested!)} https://www.bitcatcha.com/hosting-reviews/bluehost/

\bibitem {bluehost} Tony Leong, \emph{HostGator Review: 9 Pros \& 5 Cons of HostGator (Server Speed Tested!)} https://www.bitcatcha.com/hosting-reviews/hostgator/



\bibitem {SGBD SQL} Gonzalez, E. L. (s. f.). Cuadro comparativo de los sistemas gestores de base de datos. https://studylib.es/doc/9167711/cuadro-comparativo-de-los-sistemas-gestores-de-base-de-datos

\bibitem {SGBD SQL y NoSQL} altexsoft. (octubre de 2021). Comparing Database Management Systems: MySQL, PostgreSQL, MSSQL Server, MongoDB, Elasticsearch, and others. https://www.altexsoft.com/blog/business/comparing-database-management-systems-mysql-postgresql-mssql-server-mongodb-elasticsearch-and-others/

\bibitem {SGBD NoSQL} Joyce, K. E. (22 de junio de 2021). Comparación de bases de datosNoSQL para elegir la opción adecuada. https://www.computerweekly.com/es/consejo/Comparacion-de-bases-de-datosNoSQL-para-elegir-la-opcion-adecuada

\end{thebibliography}




\end{document}


